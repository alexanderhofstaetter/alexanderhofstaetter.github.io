searchData={"items":[{"type":"task","title":"mix owat.bev_import","doc":"A mix task to import the BEV address book in dev","ref":"Mix.Tasks.Owat.BevImport.html"},{"type":"function","title":"Mix.Tasks.Owat.BevImport.run/1","doc":"","ref":"Mix.Tasks.Owat.BevImport.html#run/1"},{"type":"task","title":"mix owat.meilisearch_sync","doc":"A mix task to sync the Meilisearch index with the database.","ref":"Mix.Tasks.Owat.MeilisearchSync.html"},{"type":"function","title":"Mix.Tasks.Owat.MeilisearchSync.run/1","doc":"","ref":"Mix.Tasks.Owat.MeilisearchSync.html#run/1"},{"type":"task","title":"mix owat.ssn_clearing","doc":"A mix task for ssn clearing of all patients","ref":"Mix.Tasks.Owat.SsnClearing.html"},{"type":"function","title":"Mix.Tasks.Owat.SsnClearing.run/1","doc":"","ref":"Mix.Tasks.Owat.SsnClearing.html#run/1"},{"type":"task","title":"mix owat.windoc_import","doc":"A mix task to import Windoc data into the database.","ref":"Mix.Tasks.Owat.WindocImport.html"},{"type":"function","title":"Mix.Tasks.Owat.WindocImport.run/1","doc":"","ref":"Mix.Tasks.Owat.WindocImport.html#run/1"},{"type":"module","title":"Owat","doc":"Owat keeps the contexts that define your domain\nand business logic.\n\nContexts are also responsible for managing your data, regardless\nif it comes from the database, an external API or others.","ref":"Owat.html"},{"type":"function","title":"Owat.priv_path/1","doc":"","ref":"Owat.html#priv_path/1"},{"type":"module","title":"Owat.Address.BevImporter","doc":"An importer to use with `Owat.Address.import/2`","ref":"Owat.Address.BevImporter.html"},{"type":"function","title":"Owat.Address.BevImporter.stream!/1","doc":"Creates an importer state object from file name.","ref":"Owat.Address.BevImporter.html#stream!/1"},{"type":"module","title":"Owat.Auth.ApiKey","doc":"Module to handle API Keys.\n\nThis module can also be used as Plug to verify an API token, see `init/1` for details.","ref":"Owat.Auth.ApiKey.html"},{"type":"function","title":"Owat.Auth.ApiKey.api_keys/0","doc":"Retrieve all API-Key modules","ref":"Owat.Auth.ApiKey.html#api_keys/0"},{"type":"function","title":"Owat.Auth.ApiKey.call/2","doc":"`Plug` callback","ref":"Owat.Auth.ApiKey.html#call/2"},{"type":"function","title":"Owat.Auth.ApiKey.create_key_for/1","doc":"Generates a key for a Settings module.\n\nThe module is expected to have a `key_hash` property where the hash of the\ngenerated key will be stored.","ref":"Owat.Auth.ApiKey.html#create_key_for/1"},{"type":"function","title":"Owat.Auth.ApiKey.generate/0","doc":"","ref":"Owat.Auth.ApiKey.html#generate/0"},{"type":"function","title":"Owat.Auth.ApiKey.hash/1","doc":"","ref":"Owat.Auth.ApiKey.html#hash/1"},{"type":"function","title":"Owat.Auth.ApiKey.init/1","doc":"Plug Init Function.\n\nThe following options are available to use this module as Plug.\n\n- `:module` **required** - specifies the settings module to take the hash from\n- `:header` - specify the header to be checked, defaults to `x-api-key`","ref":"Owat.Auth.ApiKey.html#init/1"},{"type":"function","title":"Owat.Auth.ApiKey.valid?/2","doc":"Checks a given key against a hash.\n\nThe hash can either be given directly or a Settings module atom can be\nprovided. If an atom is provided, the settings module will be fetched and it\nis expected to carry a `key_hash`.","ref":"Owat.Auth.ApiKey.html#valid?/2"},{"type":"module","title":"Owat.Auth.ClientCredentials","doc":"Agent for handling Keycloak Client Credentials for the OWAT Core","ref":"Owat.Auth.ClientCredentials.html"},{"type":"function","title":"Owat.Auth.ClientCredentials.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.Auth.ClientCredentials.html#child_spec/1"},{"type":"function","title":"Owat.Auth.ClientCredentials.get/0","doc":"Fetches the cached token or obtains a new one if the cache is empty or expired.","ref":"Owat.Auth.ClientCredentials.html#get/0"},{"type":"function","title":"Owat.Auth.ClientCredentials.id/0","doc":"","ref":"Owat.Auth.ClientCredentials.html#id/0"},{"type":"function","title":"Owat.Auth.ClientCredentials.jettison/0","doc":"","ref":"Owat.Auth.ClientCredentials.html#jettison/0"},{"type":"function","title":"Owat.Auth.ClientCredentials.start_link/1","doc":"","ref":"Owat.Auth.ClientCredentials.html#start_link/1"},{"type":"module","title":"Owat.Auth.Token","doc":"Handles tokens for transferring authenticated context.\n\nThe token has a time attached and is valid for 120\nseconds. The expiry check can be fully disabled by setting the config\n`:no_token_timeouts` to true.\n\n    config :owat, :no_token_timeouts, true","ref":"Owat.Auth.Token.html"},{"type":"function","title":"Owat.Auth.Token.sign/1","doc":"Generate a token for a user's session.","ref":"Owat.Auth.Token.html#sign/1"},{"type":"function","title":"Owat.Auth.Token.verify/1","doc":"Verifies a token generated by `sign/2`","ref":"Owat.Auth.Token.html#verify/1"},{"type":"module","title":"Owat.CallDisplay","doc":"This module handles the call display registration.","ref":"Owat.CallDisplay.html"},{"type":"function","title":"Owat.CallDisplay.approve!/2","doc":"Approves a call display.\n\n`session` is the session of the user that approves the call display.","ref":"Owat.CallDisplay.html#approve!/2"},{"type":"function","title":"Owat.CallDisplay.approved?/1","doc":"Checks if a given call display is approved.\n\nWill return false if it does not exist.","ref":"Owat.CallDisplay.html#approved?/1"},{"type":"function","title":"Owat.CallDisplay.broadcast/1","doc":"","ref":"Owat.CallDisplay.html#broadcast/1"},{"type":"function","title":"Owat.CallDisplay.broadcast!/1","doc":"Broadcasts call display content to all call displays.","ref":"Owat.CallDisplay.html#broadcast!/1"},{"type":"function","title":"Owat.CallDisplay.delete/1","doc":"Deletes a call display.","ref":"Owat.CallDisplay.html#delete/1"},{"type":"function","title":"Owat.CallDisplay.get/1","doc":"","ref":"Owat.CallDisplay.html#get/1"},{"type":"function","title":"Owat.CallDisplay.list/0","doc":"Returns all call displays.","ref":"Owat.CallDisplay.html#list/0"},{"type":"function","title":"Owat.CallDisplay.maybe_broadcast/1","doc":"","ref":"Owat.CallDisplay.html#maybe_broadcast/1"},{"type":"function","title":"Owat.CallDisplay.maybe_delete/1","doc":"","ref":"Owat.CallDisplay.html#maybe_delete/1"},{"type":"function","title":"Owat.CallDisplay.maybe_insert/2","doc":"","ref":"Owat.CallDisplay.html#maybe_insert/2"},{"type":"function","title":"Owat.CallDisplay.maybe_transact/1","doc":"","ref":"Owat.CallDisplay.html#maybe_transact/1"},{"type":"function","title":"Owat.CallDisplay.maybe_transact/2","doc":"","ref":"Owat.CallDisplay.html#maybe_transact/2"},{"type":"function","title":"Owat.CallDisplay.maybe_update/1","doc":"","ref":"Owat.CallDisplay.html#maybe_update/1"},{"type":"function","title":"Owat.CallDisplay.maybe_update/2","doc":"","ref":"Owat.CallDisplay.html#maybe_update/2"},{"type":"function","title":"Owat.CallDisplay.maybe_update/3","doc":"","ref":"Owat.CallDisplay.html#maybe_update/3"},{"type":"function","title":"Owat.CallDisplay.register/0","doc":"Registers a new Call Display resource.\n\nThis resource will be created unapproved without a name and with a random,\nprobably unique 8 character code.\nThe uniqueness of the code is not guaranteed.","ref":"Owat.CallDisplay.html#register/0"},{"type":"function","title":"Owat.CallDisplay.transact/1","doc":"","ref":"Owat.CallDisplay.html#transact/1"},{"type":"function","title":"Owat.CallDisplay.update/3","doc":"Updates a call display's name.","ref":"Owat.CallDisplay.html#update/3"},{"type":"module","title":"Owat.CallDisplay.Content","doc":"This module manages the content that is displayed on the call display.","ref":"Owat.CallDisplay.Content.html"},{"type":"function","title":"Owat.CallDisplay.Content.add/2","doc":"Takes and encounter to display on the call displays.\n\nThe encounter can be passed as struct or by its ID.","ref":"Owat.CallDisplay.Content.html#add/2"},{"type":"function","title":"Owat.CallDisplay.Content.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.CallDisplay.Content.html#child_spec/1"},{"type":"function","title":"Owat.CallDisplay.Content.get/0","doc":"Returns the current content of the call displays.","ref":"Owat.CallDisplay.Content.html#get/0"},{"type":"function","title":"Owat.CallDisplay.Content.start_link/1","doc":"Starts this module under the supervision tree","ref":"Owat.CallDisplay.Content.html#start_link/1"},{"type":"type","title":"Owat.CallDisplay.Content.t/0","doc":"","ref":"Owat.CallDisplay.Content.html#t:t/0"},{"type":"module","title":"Owat.Channel","doc":"Provides functionality for OWAT resource-, presence- and rpc-channels.","ref":"Owat.Channel.html"},{"type":"module","title":"Usage - Owat.Channel","doc":"Generally only the `Owat.Channel` module has to be used.\nIt imports the `event/3` macro and subsequently uses `Phoenix.Channel`.\n\n```\ndefmodule Owat.SomeChannel do\n  use Owat.Channel\n\n  event \"event_name\" do\n    %{parameter: binding :: :string \\ \"default_val\"} ->\n      # Socket is available in the body\n      reply({:ok, %{}})\n      # but you can use the `ok/0` and `reply/1` macros\n      ok() # same as reply({:ok, %{}})\n  end\nend\n```","ref":"Owat.Channel.html#module-usage"},{"type":"module","title":"Wildcard topics - Owat.Channel","doc":"When defining a multi-topic channel events can be limited to a channel.\n\n    # in the socket module\n    channel \"some:*\", Owat.SomeChannel\n\n    # in the channel module\n    event \"event_name\" in \"some:foo\" do\n      %{} -> reply({:ok, \"only in some:foo\"})\n    end\n\nThis also supports topic parts. The part variable is visible in the\nfunction body.\n\n    event \"event_name\" in \"topic:\" <> part do\n      %{} -> reply({:ok, \"you are in: \" <> part})\n    end","ref":"Owat.Channel.html#module-wildcard-topics"},{"type":"module","title":"Permission Checks - Owat.Channel","doc":"When not providing a do-block, all channels are protected by the\n`:general_access` permission. A provided do-block is expected to check\npermissions.\n\nAny event can also be individually secured by a permission by setting the\n`@permission` attribute with the desired atom.\n\n```\n@permission :technical\nevent \"event_name\" do\n  ok(\"You have permission\")\nend\n```\n\nThe macro `permission_gate/2` can be used for custom business-logic dependant\npermission checks.","ref":"Owat.Channel.html#module-permission-checks"},{"type":"module","title":"Parameters - Owat.Channel","doc":"Events may or may not take parameters. When the event's do-block consists\nof `->` expressions the event takes parameters. Currently only maps are\nsupported as parameters. If the event does not take any parameters, any\nparameter given is ignored.\n\nThe same event may take multiple shapes of parameters. Parameter keys can be\noptional, but all required parameter keys must be present and no unspecified\nkey may be given. When multiple paths overlap with optional keys the path\nwith the least number of unset optional keys is taken.","ref":"Owat.Channel.html#module-parameters"},{"type":"module","title":"Optional parameters - Owat.Channel","doc":"A parameter is optional when its binding is `_` or prefixed with `_`.\n\n```\nevent \"event_name\" do\n  %{} -> ok()\n  %{a: _a :: :string} -> ok()\n  %{a: _a :: :string, b: _b :: :string} -> ok()\nend\n```\n\nIn this example when given no keys the first path is taken, because it has\n0 optional keys not present. When `b` is given, the third path is taken\nand when only `a` is given the second path is given.","ref":"Owat.Channel.html#module-optional-parameters"},{"type":"module","title":"Default values - Owat.Channel","doc":"A parameter, both required and optional, can have a default value. This is\ndone by using the `\\` operator.\n\n```\nevent \"event_name\" do\n  %{a: a :: :string \\ \"default_val\"} -> ok()\nend\n```","ref":"Owat.Channel.html#module-default-values"},{"type":"module","title":"Top bindings - Owat.Channel","doc":"The function body can access the entire event payload by binding\nit to a variable. This is done by using the `:=` operator.\n\n```\nevent \"event_name\" do\n  %{\n    a: a :: :string,\n    b: _b :: :string\n  } = data ->\n    # if \"b\" is not passed the map will only have the key \"a\"\n    do_something(data)\n    reply({:ok, \"You have permission\"})\nend\n```","ref":"Owat.Channel.html#module-top-bindings"},{"type":"module","title":"Type hints - Owat.Channel","doc":"The type of a parameter can be hinted using the `::` operator. The type can\nbe any atom supported by Owat.ZodTransformer, as well as {:enum, [\"value\"]},\n`Owat.Support.Color` or a function that emits a datatype (like\n`Owat.Model.Person.datamap()`). See `Owat.Model` for details on how to define\na datatype.\n\nThese type hints are used to generate Zod schemas for the events a channel\noffers and all channels referenced using the `channel/2` macro will be\nexported to zod schema files.\n\n> #### Beware {: .info}\n> Type hints do not provide any input validation","ref":"Owat.Channel.html#module-type-hints"},{"type":"module","title":"Known Limitations / To Do - Owat.Channel","doc":"* It is not supported to have an event that has something other than a map\n  as payload.\n* Type hints do not provide any input validation.","ref":"Owat.Channel.html#module-known-limitations-to-do"},{"type":"macro","title":"Owat.Channel.array/1","doc":"","ref":"Owat.Channel.html#array/1"},{"type":"macro","title":"Owat.Channel.data_for/3","doc":"Defines the data producer for a resource channel.\n\nThis relies on the `produce_data_map/1` functions of modules using\n`Owat.Model`.\n\nThe do block of the macro invocation shall produce the data to be broadcast\nas `data` event. When the produced data is a list each element will be mapped\nover the `produce_data_map/1` function of the specified module. To activate\nthe list mode, the module atom shall be placed in list brackets.\n\nWhen the do block returns `{:stop, response}` the client will be evicted from\nthe channel.","ref":"Owat.Channel.html#data_for/3"},{"type":"macro","title":"Examples - Owat.Channel.data_for/3","doc":"```\ndata_for Resource.Module do\n  Resource.acquire_one_result()\nend\n```\n\n```\ndata_for [Resource.Module] do\n  Resource.acquire_many_results()\nend\n```\n\nIn case the do block needs to have access to the socket (for example to work\ndiscriminate against the topic) the :bind option can be used.\n\n```\ndata_for Resource.Module, bind: socket do\n  Resource.acquire_one_result(socket)\nend\n```","ref":"Owat.Channel.html#data_for/3-examples"},{"type":"macro","title":"Owat.Channel.data_for_presence/3","doc":"","ref":"Owat.Channel.html#data_for_presence/3"},{"type":"macro","title":"Owat.Channel.enum/1","doc":"","ref":"Owat.Channel.html#enum/1"},{"type":"macro","title":"Owat.Channel.event/3","doc":"This macro creates a `handle_in/3` method for a `Phoenix.Channel`.\n\n```\nevent \"name\" do\n  %{} -> :response\nend\n\n# results in\n\ndef handle_in(\"name\", params, %Phoenix.Socket{} = socket) do\n  # Argument checks and optionally permission checks\n\n  case params do\n    # here the do-body\n    # the params parameter is not visible\n    %{} -> :response\n  end\nend\n```\n\n```\nevent name in \"topic\"\n\n# corresponds to\n\ndef handle_in(\"name\", params, %Phoenix.Socket{topic: \"topic\"} = socket)\n```","ref":"Owat.Channel.html#event/3"},{"type":"function","title":"Owat.Channel.find_best_path/2","doc":"","ref":"Owat.Channel.html#find_best_path/2"},{"type":"macro","title":"Owat.Channel.join_permission/1","doc":"","ref":"Owat.Channel.html#join_permission/1"},{"type":"function","title":"Owat.Channel.maybe_data_map/1","doc":"","ref":"Owat.Channel.html#maybe_data_map/1"},{"type":"macro","title":"Owat.Channel.ok/1","doc":"","ref":"Owat.Channel.html#ok/1"},{"type":"macro","title":"Owat.Channel.ok_or_error/1","doc":"","ref":"Owat.Channel.html#ok_or_error/1"},{"type":"function","title":"Owat.Channel.parse_response_type/1","doc":"","ref":"Owat.Channel.html#parse_response_type/1"},{"type":"macro","title":"Owat.Channel.permission_gate/2","doc":"Only execute a block when the given permission is held.\n\n    permission_gate :technical do\n      ok(\"you have `technical` permission.\")\n    end\n\n    # equivalent to\n\n    case Owat.Permissions.authorize(socket, :technical) do\n      :ok ->\n        ok(\"you have `technical` permission.\")\n\n      {:error, err} ->\n        {:reply, {:error, %{code: err}}, socket}\n    end","ref":"Owat.Channel.html#permission_gate/2"},{"type":"macro","title":"Owat.Channel.presence/3","doc":"Defines a presence channel.\n\nA presence channel sends `presence_state` and `presence_diff` events.\n\nResource channels must always define a corresponding `data_for_presence/3` block.\nSending the initial data is already handled in this macro.","ref":"Owat.Channel.html#presence/3"},{"type":"macro","title":"Owat.Channel.reply/1","doc":"","ref":"Owat.Channel.html#reply/1"},{"type":"macro","title":"Owat.Channel.resource/3","doc":"Defines a resource channel.\n\nA resource channel sends `data` events.\nAn optional do block can be supplied to perform join checks.\n\nResource channels must always define a corresponding `data_for/2` block.\nSending the initial data is already handled in this macro.","ref":"Owat.Channel.html#resource/3"},{"type":"macro","title":"Examples - Owat.Channel.resource/3","doc":"Normal channel definition with resource module. Allows all clients to join.\n\n```\nresource \"channel_name\", Resource.Module\n```\n\nChannel definition that executes code on join which can refuse the socket to\njoin.\n\n```\nresource \"channel_name\", Resource.Module do\n  # return :ok to allow join or a {:error, response} tuple to refuse join.\nend\n```","ref":"Owat.Channel.html#resource/3-examples"},{"type":"macro","title":"Owat.Channel.rpc/2","doc":"Defines an RPC channel.\n\nAn RPC channel does not send the `data` event.\nA channel defined with RPC does not need a corresponding call to `data_for/3`","ref":"Owat.Channel.html#rpc/2"},{"type":"macro","title":"Example - Owat.Channel.rpc/2","doc":"```\nrpc \"channel_name\"\n```","ref":"Owat.Channel.html#rpc/2-example"},{"type":"module","title":"Owat.Communications","doc":"Module to handle communication with the patient (like E-Mail and SMS)","ref":"Owat.Communications.html"},{"type":"function","title":"Owat.Communications.broadcast/1","doc":"","ref":"Owat.Communications.html#broadcast/1"},{"type":"function","title":"Owat.Communications.comment/4","doc":"","ref":"Owat.Communications.html#comment/4"},{"type":"function","title":"Owat.Communications.create/7","doc":"","ref":"Owat.Communications.html#create/7"},{"type":"function","title":"Owat.Communications.for_person/1","doc":"","ref":"Owat.Communications.html#for_person/1"},{"type":"function","title":"Owat.Communications.maybe_broadcast/1","doc":"","ref":"Owat.Communications.html#maybe_broadcast/1"},{"type":"function","title":"Owat.Communications.maybe_delete/1","doc":"","ref":"Owat.Communications.html#maybe_delete/1"},{"type":"function","title":"Owat.Communications.maybe_insert/2","doc":"","ref":"Owat.Communications.html#maybe_insert/2"},{"type":"function","title":"Owat.Communications.maybe_transact/1","doc":"","ref":"Owat.Communications.html#maybe_transact/1"},{"type":"function","title":"Owat.Communications.maybe_transact/2","doc":"","ref":"Owat.Communications.html#maybe_transact/2"},{"type":"function","title":"Owat.Communications.maybe_update/1","doc":"","ref":"Owat.Communications.html#maybe_update/1"},{"type":"function","title":"Owat.Communications.maybe_update/2","doc":"","ref":"Owat.Communications.html#maybe_update/2"},{"type":"function","title":"Owat.Communications.maybe_update/3","doc":"","ref":"Owat.Communications.html#maybe_update/3"},{"type":"function","title":"Owat.Communications.transact/1","doc":"","ref":"Owat.Communications.html#transact/1"},{"type":"function","title":"Owat.Communications.update/2","doc":"","ref":"Owat.Communications.html#update/2"},{"type":"behaviour","title":"Owat.CrudUtils","doc":"A module for utility functions when handling broadcastable CRUD operations","ref":"Owat.CrudUtils.html"},{"type":"callback","title":"Owat.CrudUtils.broadcast/1","doc":"Callback which has to actually perform the broadcast.\n\nThis callback gets invoked by `maybe_broadcast/1` when it has determined that\na broadcast has to be performed.","ref":"Owat.CrudUtils.html#c:broadcast/1"},{"type":"function","title":"Owat.CrudUtils.get_errors/1","doc":"","ref":"Owat.CrudUtils.html#get_errors/1"},{"type":"function","title":"Owat.CrudUtils.make_error/1","doc":"","ref":"Owat.CrudUtils.html#make_error/1"},{"type":"function","title":"Owat.CrudUtils.make_state/2","doc":"","ref":"Owat.CrudUtils.html#make_state/2"},{"type":"function","title":"Owat.CrudUtils.make_transaction_error/1","doc":"","ref":"Owat.CrudUtils.html#make_transaction_error/1"},{"type":"function","title":"Owat.CrudUtils.maybe_delete/2","doc":"","ref":"Owat.CrudUtils.html#maybe_delete/2"},{"type":"function","title":"Owat.CrudUtils.maybe_insert/3","doc":"","ref":"Owat.CrudUtils.html#maybe_insert/3"},{"type":"function","title":"Owat.CrudUtils.maybe_transact/2","doc":"","ref":"Owat.CrudUtils.html#maybe_transact/2"},{"type":"function","title":"Owat.CrudUtils.maybe_transact/3","doc":"","ref":"Owat.CrudUtils.html#maybe_transact/3"},{"type":"function","title":"Owat.CrudUtils.maybe_update/3","doc":"","ref":"Owat.CrudUtils.html#maybe_update/3"},{"type":"function","title":"Owat.CrudUtils.maybe_update/4","doc":"","ref":"Owat.CrudUtils.html#maybe_update/4"},{"type":"function","title":"Owat.CrudUtils.transact/2","doc":"if no broadcast person is given, the result of the first changeset will be broadcast","ref":"Owat.CrudUtils.html#transact/2"},{"type":"function","title":"Owat.CrudUtils.transaction_valid?/1","doc":"","ref":"Owat.CrudUtils.html#transaction_valid?/1"},{"type":"type","title":"Owat.CrudUtils.validation_error/0","doc":"","ref":"Owat.CrudUtils.html#t:validation_error/0"},{"type":"module","title":"Owat.Elga.Token","doc":"Module for handling ELGA Tokens","ref":"Owat.Elga.Token.html"},{"type":"function","title":"Owat.Elga.Token.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.Elga.Token.html#child_spec/1"},{"type":"function","title":"Owat.Elga.Token.get/1","doc":"","ref":"Owat.Elga.Token.html#get/1"},{"type":"function","title":"Owat.Elga.Token.request!/2","doc":"","ref":"Owat.Elga.Token.html#request!/2"},{"type":"function","title":"Owat.Elga.Token.request!/3","doc":"","ref":"Owat.Elga.Token.html#request!/3"},{"type":"function","title":"Owat.Elga.Token.start_link/1","doc":"","ref":"Owat.Elga.Token.html#start_link/1"},{"type":"function","title":"Owat.Elga.Token.zpi_responsible/0","doc":"","ref":"Owat.Elga.Token.html#zpi_responsible/0"},{"type":"type","title":"Owat.Elga.Token.assertion/0","doc":"","ref":"Owat.Elga.Token.html#t:assertion/0"},{"type":"module","title":"Owat.Elga.ZPI","doc":"Client module for ELGA Z-PI","ref":"Owat.Elga.ZPI.html"},{"type":"function","title":"Owat.Elga.ZPI.parse_pdq_response/1","doc":"","ref":"Owat.Elga.ZPI.html#parse_pdq_response/1"},{"type":"function","title":"Owat.Elga.ZPI.patient_demographic_query/2","doc":"Performs a patient demographic query against the Z-PI.\n\nEither performs a query by `LivingSubject.id` when given an identifier query\ntuple or a query by demographic data.\nFor demographic query options see `t:demographic_query_opt/0`.","ref":"Owat.Elga.ZPI.html#patient_demographic_query/2"},{"type":"function","title":"Owat.Elga.ZPI.sfa_info/1","doc":"","ref":"Owat.Elga.ZPI.html#sfa_info/1"},{"type":"type","title":"Owat.Elga.ZPI.demographic_query_opt/0","doc":"Query options for a Z-PI demographics query.\n\nRequired parameters are:\n- `family`\n\nor\n\n- `given`\n- `date_of_birth`\n\nThe parameter `gender` and address-related parameters are always optional.\n\nThe `date_of_birth` can be either a value, a partial value, a range of values\nor a range of partial values.\n\n#### Wildcard Parameters\n\nWildcard search enables searching by prefix.\nThe following parameters support wildcard search, where W  means that at\nleast N characters have to be provided before the wildcard:\n\n- `given` W4\n- `family` W4\n- `postal_code` W2\n- `city` W4\n- `street` W4\n\n#### Special Search Opts\n\nThere are the following switches to tune searching by name:\n- `phonetic` - turns on phonetic matching of the `given` and `family` name.\n- `additional_names` - causes the search by `given` and `family` to be matched\n  against all known names of the patient. Default is to only search by the current name.\n- `only_patients_alive` - only patients not marked as deceased will be returned.\n- `all_patients` - all identities in a linked group are searched.","ref":"Owat.Elga.ZPI.html#t:demographic_query_opt/0"},{"type":"type","title":"Owat.Elga.ZPI.identifier_query/0","doc":"A `{system, value}` tuple.","ref":"Owat.Elga.ZPI.html#t:identifier_query/0"},{"type":"type","title":"Owat.Elga.ZPI.zpi_data/0","doc":"Demographics data available from Z-PI","ref":"Owat.Elga.ZPI.html#t:zpi_data/0"},{"type":"module","title":"Owat.Elga.ZPI.Error","doc":"Error info for Z-PI Operations","ref":"Owat.Elga.ZPI.Error.html"},{"type":"function","title":"Owat.Elga.ZPI.Error.from_xml/1","doc":"","ref":"Owat.Elga.ZPI.Error.html#from_xml/1"},{"type":"type","title":"Owat.Elga.ZPI.Error.t/0","doc":"Error information from Z-PI remote system. Type `E` means error, `I` means informative","ref":"Owat.Elga.ZPI.Error.html#t:t/0"},{"type":"module","title":"Owat.Gin","doc":"Common GIN Functions","ref":"Owat.Gin.html"},{"type":"module","title":"Test Mode - Owat.Gin","doc":"All functions act on the production endpoints by default.\n\nSet the following configuration to use test endpoints:\n\n    config :owat, :gins, prod: false","ref":"Owat.Gin.html#module-test-mode"},{"type":"function","title":"Owat.Gin.elga_proxy_uri/1","doc":"Returns a `URI` struct containing the base path for a given ELGA service.\n\nDetermines the service host based on the gins endpoint config, which can be set as env var.","ref":"Owat.Gin.html#elga_proxy_uri/1"},{"type":"function","title":"Owat.Gin.host/1","doc":"Returns the GINS host for a specific section.\n\nThe section may be one of:\n- `\"services\"`\n- `\"elga\"`\n\nThis function checks if TEST mode is set and then appends the appropriate\ndomain suffix string to the argument.","ref":"Owat.Gin.html#host/1"},{"type":"function","title":"Owat.Gin.opts/0","doc":"Obtains default opts for `HTTPoison` operations to the GIN.","ref":"Owat.Gin.html#opts/0"},{"type":"function","title":"Owat.Gin.opts/1","doc":"Obtains default opts (see `opts/0`) and merges given opts.","ref":"Owat.Gin.html#opts/1"},{"type":"function","title":"Owat.Gin.service_uri/2","doc":"Returns a `URI` struct containing the base path for a given service.\n\nDetermines the service host based on the gins endpoint config, which can be set as env var.","ref":"Owat.Gin.html#service_uri/2"},{"type":"module","title":"Owat.Gin.Consult","doc":"Module for consult operations.\n\nGenerally speaking a consult is a type of voucher that is obtained by\nsubmitting a request to the insurance provider. This voucher has to be shown\nwhen billing services to the provider as a proof of insurance.\n\nThere are complex rules as to when a consult may be obtained depending on the\nfield of practice (often passed via a parameter `field_code`), on the case of\ntreatment (often passed via a parameter `case_code`), whether the patient\nalready has pending vouchers with other healthcare providers and so on.\n\nFor the purposes of this module a consult may have a _state_ that can take\none of the following values:\n\n- `PENDING` indicates that the consult is requested but the request is yet\n  in-flight.\n- `ACTIVE` indicates that the consult is a valid, registered voucher\n- `CANCELLED` indicates that the consult is a registered voucher that has\n  since been cancelled.\n- `FAULT` indicates that the consult was requested, but the voucher could not\n  be issued due to either business or technical reasons\n- `CLAIMS`, `EXTERN` and `SURROGATE_VOUCHER` are special cases of `FAULT`\n  where the underlying business reason is clearly specified and resolvable\n- `ERROR` indicates that the consult was requested, but it failed to be\n  submitted to the upstream services for technical reasons (like network\n  outage)","ref":"Owat.Gin.Consult.html"},{"type":"module","title":"Happy-Path Lifecycle - Owat.Gin.Consult","doc":"A normal consult in the best conditions takes the following life-cycle:\n\n- Submission either via `automatic/2` or `manual/5`\n- Best case it goes from `PENDING` directly to `ACTIVE`\n- Second best case an easy to resolve `CLAIMS` state\n  - In this case the `CLAIMS` issue is resolved via `supply_claim/2`\n- Done. A nice consult in `ACTIVE` state.\n  - May have its case code changed via `change_case/2`\n  - May be cancelled via `cancel/1`\n  - May have supplemental information that must be answered via a call to\n    `send_supplemental_answer/3`","ref":"Owat.Gin.Consult.html#module-happy-path-lifecycle"},{"type":"module","title":"Error resolving - Owat.Gin.Consult","doc":"The most common error state besides `CLAIMS` is `FAULT`. A fault occurs\nmostly for business rule reasons and is resolved by calling `retry/2` and\nsupplying information to conform to the business rules.\n\n- Submission either via `automatic/2` or `manual/5`\n- The consult enters `FAULT` state\n- Retry by using `retry/2` until the state changes to `ACTIVE`","ref":"Owat.Gin.Consult.html#module-error-resolving"},{"type":"function","title":"Owat.Gin.Consult.answer_supplemental_consult/1","doc":"","ref":"Owat.Gin.Consult.html#answer_supplemental_consult/1"},{"type":"function","title":"Owat.Gin.Consult.automatic/1","doc":"Registers a consult using the automatic approach.","ref":"Owat.Gin.Consult.html#automatic/1"},{"type":"function","title":"Owat.Gin.Consult.by_id/1","doc":"Returns a consult by its ID.","ref":"Owat.Gin.Consult.html#by_id/1"},{"type":"function","title":"Owat.Gin.Consult.cancel/1","doc":"Cancels an active consult.","ref":"Owat.Gin.Consult.html#cancel/1"},{"type":"function","title":"Owat.Gin.Consult.change_case/2","doc":"Changes the case code of an active consult","ref":"Owat.Gin.Consult.html#change_case/2"},{"type":"function","title":"Owat.Gin.Consult.extern_reason/2","doc":"Supplies the adequate case code to convey a reason for the encounter with an\nextern patient.\n\nThis function only takes consults in `EXTERN` state without vouchers.","ref":"Owat.Gin.Consult.html#extern_reason/2"},{"type":"function","title":"Owat.Gin.Consult.manual/5","doc":"Registers a consult manually.","ref":"Owat.Gin.Consult.html#manual/5"},{"type":"function","title":"Owat.Gin.Consult.md_relation/2","doc":"This function sets the `md_relation` flag of the person associated with the\nconsult and then updates the consult.\n\nWhen the new relation is `EXTERN` the consult will simply be set to extern.\nWhen the new relation is either `PRIMARY` or `PRIMARY_TO_BE` then a new\nconsult will be registered. Setting the relation to `nil` is not supported.\n\nThis function accepts only consults in `LOCKED` (this state is now denoted\nby state `FAULT` with an error code of `ZS-00015`) or\n`EXTERN` state without vouchers.","ref":"Owat.Gin.Consult.html#md_relation/2"},{"type":"function","title":"Owat.Gin.Consult.provide_ecard_signature/3","doc":"Registeres an ecard signature with the system.","ref":"Owat.Gin.Consult.html#provide_ecard_signature/3"},{"type":"function","title":"Owat.Gin.Consult.retry/2","doc":"Retry a faulted consult with other data.\n\nMerges properties of `changes` into the data from the previous request.","ref":"Owat.Gin.Consult.html#retry/2"},{"type":"function","title":"Owat.Gin.Consult.retry_action/1","doc":"Retries a specific action idempotently with its transaction ID.","ref":"Owat.Gin.Consult.html#retry_action/1"},{"type":"function","title":"Owat.Gin.Consult.send_supplemental_answer/3","doc":"Sends an answer for a supplemental info request.","ref":"Owat.Gin.Consult.html#send_supplemental_answer/3"},{"type":"function","title":"Owat.Gin.Consult.supply_claim/2","doc":"Supply claim information for a consult in claims-fault state.","ref":"Owat.Gin.Consult.html#supply_claim/2"},{"type":"module","title":"Owat.Gin.DataService","doc":"Caching facility for general SS12 data such as codes and options","ref":"Owat.Gin.DataService.html"},{"type":"function","title":"Owat.Gin.DataService.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.Gin.DataService.html#child_spec/1"},{"type":"function","title":"Owat.Gin.DataService.get_aum_form/0","doc":"","ref":"Owat.Gin.DataService.html#get_aum_form/0"},{"type":"function","title":"Owat.Gin.DataService.get_codes/0","doc":"","ref":"Owat.Gin.DataService.html#get_codes/0"},{"type":"function","title":"Owat.Gin.DataService.get_codes/1","doc":"","ref":"Owat.Gin.DataService.html#get_codes/1"},{"type":"function","title":"Owat.Gin.DataService.get_tsv/0","doc":"","ref":"Owat.Gin.DataService.html#get_tsv/0"},{"type":"function","title":"Owat.Gin.DataService.obtain_case_codes/1","doc":"","ref":"Owat.Gin.DataService.html#obtain_case_codes/1"},{"type":"function","title":"Owat.Gin.DataService.obtain_tsv/1","doc":"","ref":"Owat.Gin.DataService.html#obtain_tsv/1"},{"type":"function","title":"Owat.Gin.DataService.simple_obtainer/1","doc":"","ref":"Owat.Gin.DataService.html#simple_obtainer/1"},{"type":"function","title":"Owat.Gin.DataService.start_link/1","doc":"","ref":"Owat.Gin.DataService.html#start_link/1"},{"type":"module","title":"Owat.Gin.DialogPool","doc":"Dialog Pool","ref":"Owat.Gin.DialogPool.html"},{"type":"function","title":"Owat.Gin.DialogPool.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.Gin.DialogPool.html#child_spec/1"},{"type":"function","title":"Owat.Gin.DialogPool.close_dialogs/1","doc":"","ref":"Owat.Gin.DialogPool.html#close_dialogs/1"},{"type":"function","title":"Owat.Gin.DialogPool.init/1","doc":"","ref":"Owat.Gin.DialogPool.html#init/1"},{"type":"function","title":"Owat.Gin.DialogPool.peek/0","doc":"","ref":"Owat.Gin.DialogPool.html#peek/0"},{"type":"function","title":"Owat.Gin.DialogPool.start_link/1","doc":"","ref":"Owat.Gin.DialogPool.html#start_link/1"},{"type":"function","title":"Owat.Gin.DialogPool.with_dialog/2","doc":"Executes a function with a SS12 dialog as first argument.\n\n#### Return Values\n\nOn successful execution of the given function, this function will return\n`{:ok, val}` where `val` is the return value of the given function.\n\nWhen no dialog could be established due to admin card signing problems\nan error tuple with the `t:Owat.Gin.Signing.admin_card_signing_problem/0` info\nwill be returned.\n\nWhen no dialog could be established due to a fault while communicating with\nthe SS12 Auth Service, this function will return an error tuple with\n`t:Owat.Gin.SS12.fault_info/0`\n\nErrors during communication with the SS12 Auth Service will raise a\n`HTTPoison.Error` or `Jason.DecodeError`.\n\nWhen the given function crashes, this function will return `{:error, {:exit, reason}}`.","ref":"Owat.Gin.DialogPool.html#with_dialog/2"},{"type":"function","title":"Owat.Gin.DialogPool.with_dialog/3","doc":"","ref":"Owat.Gin.DialogPool.html#with_dialog/3"},{"type":"module","title":"Owat.Gin.ECardReader","doc":"Bindings for handling eCard Reader devices","ref":"Owat.Gin.ECardReader.html"},{"type":"function","title":"Owat.Gin.ECardReader.get_inserted_card/1","doc":"","ref":"Owat.Gin.ECardReader.html#get_inserted_card/1"},{"type":"function","title":"Owat.Gin.ECardReader.id/1","doc":"","ref":"Owat.Gin.ECardReader.html#id/1"},{"type":"function","title":"Owat.Gin.ECardReader.make_status_request/2","doc":"","ref":"Owat.Gin.ECardReader.html#make_status_request/2"},{"type":"function","title":"Owat.Gin.ECardReader.new/1","doc":"","ref":"Owat.Gin.ECardReader.html#new/1"},{"type":"type","title":"Owat.Gin.ECardReader.t/0","doc":"","ref":"Owat.Gin.ECardReader.html#t:t/0"},{"type":"module","title":"Owat.Gin.SS12","doc":"SS12 Helper Module","ref":"Owat.Gin.SS12.html"},{"type":"function","title":"Owat.Gin.SS12.request!/4","doc":"","ref":"Owat.Gin.SS12.html#request!/4"},{"type":"function","title":"Owat.Gin.SS12.request!/5","doc":"","ref":"Owat.Gin.SS12.html#request!/5"},{"type":"type","title":"Owat.Gin.SS12.fault_info/0","doc":"","ref":"Owat.Gin.SS12.html#t:fault_info/0"},{"type":"module","title":"Owat.Gin.SS12.Aum","doc":"SS12 API Binding for AUM","ref":"Owat.Gin.SS12.Aum.html"},{"type":"function","title":"Owat.Gin.SS12.Aum.backdating_reasons/1","doc":"","ref":"Owat.Gin.SS12.Aum.html#backdating_reasons/1"},{"type":"function","title":"Owat.Gin.SS12.Aum.cancel_incapacity/4","doc":"","ref":"Owat.Gin.SS12.Aum.html#cancel_incapacity/4"},{"type":"function","title":"Owat.Gin.SS12.Aum.change_incapacity/7","doc":"","ref":"Owat.Gin.SS12.Aum.html#change_incapacity/7"},{"type":"function","title":"Owat.Gin.SS12.Aum.change_incapacity_end/6","doc":"","ref":"Owat.Gin.SS12.Aum.html#change_incapacity_end/6"},{"type":"function","title":"Owat.Gin.SS12.Aum.create_incapacity/6","doc":"","ref":"Owat.Gin.SS12.Aum.html#create_incapacity/6"},{"type":"function","title":"Owat.Gin.SS12.Aum.download_form/1","doc":"","ref":"Owat.Gin.SS12.Aum.html#download_form/1"},{"type":"function","title":"Owat.Gin.SS12.Aum.fetch_details/3","doc":"","ref":"Owat.Gin.SS12.Aum.html#fetch_details/3"},{"type":"function","title":"Owat.Gin.SS12.Aum.providers/1","doc":"","ref":"Owat.Gin.SS12.Aum.html#providers/1"},{"type":"function","title":"Owat.Gin.SS12.Aum.request!/2","doc":"","ref":"Owat.Gin.SS12.Aum.html#request!/2"},{"type":"function","title":"Owat.Gin.SS12.Aum.request!/3","doc":"","ref":"Owat.Gin.SS12.Aum.html#request!/3"},{"type":"function","title":"Owat.Gin.SS12.Aum.search_incapacity/3","doc":"","ref":"Owat.Gin.SS12.Aum.html#search_incapacity/3"},{"type":"function","title":"Owat.Gin.SS12.Aum.special_incapacity_causes/1","doc":"","ref":"Owat.Gin.SS12.Aum.html#special_incapacity_causes/1"},{"type":"function","title":"Owat.Gin.SS12.Aum.supplemental_diagnoses/1","doc":"","ref":"Owat.Gin.SS12.Aum.html#supplemental_diagnoses/1"},{"type":"type","title":"Owat.Gin.SS12.Aum.code/0","doc":"","ref":"Owat.Gin.SS12.Aum.html#t:code/0"},{"type":"type","title":"Owat.Gin.SS12.Aum.create_incapacity_opt/0","doc":"","ref":"Owat.Gin.SS12.Aum.html#t:create_incapacity_opt/0"},{"type":"type","title":"Owat.Gin.SS12.Aum.incapacity_person/0","doc":"","ref":"Owat.Gin.SS12.Aum.html#t:incapacity_person/0"},{"type":"type","title":"Owat.Gin.SS12.Aum.permitted_hours/0","doc":"","ref":"Owat.Gin.SS12.Aum.html#t:permitted_hours/0"},{"type":"type","title":"Owat.Gin.SS12.Aum.provider/0","doc":"","ref":"Owat.Gin.SS12.Aum.html#t:provider/0"},{"type":"type","title":"Owat.Gin.SS12.Aum.search_opt/0","doc":"","ref":"Owat.Gin.SS12.Aum.html#t:search_opt/0"},{"type":"module","title":"Owat.Gin.SS12.Base","doc":"Open Data Query Service","ref":"Owat.Gin.SS12.Base.html"},{"type":"function","title":"Owat.Gin.SS12.Base.field_codes/3","doc":"","ref":"Owat.Gin.SS12.Base.html#field_codes/3"},{"type":"function","title":"Owat.Gin.SS12.Base.request!/2","doc":"","ref":"Owat.Gin.SS12.Base.html#request!/2"},{"type":"function","title":"Owat.Gin.SS12.Base.request!/3","doc":"","ref":"Owat.Gin.SS12.Base.html#request!/3"},{"type":"type","title":"Owat.Gin.SS12.Base.field_code/0","doc":"","ref":"Owat.Gin.SS12.Base.html#t:field_code/0"},{"type":"module","title":"Owat.Gin.SS12.Dialog","doc":"SS12 Dialog Struct","ref":"Owat.Gin.SS12.Dialog.html"},{"type":"type","title":"Owat.Gin.SS12.Dialog.t/0","doc":"","ref":"Owat.Gin.SS12.Dialog.html#t:t/0"},{"type":"module","title":"Owat.Gin.SS12.Fdas","doc":"Open Data Query Service","ref":"Owat.Gin.SS12.Fdas.html"},{"type":"function","title":"Owat.Gin.SS12.Fdas.cases/0","doc":"","ref":"Owat.Gin.SS12.Fdas.html#cases/0"},{"type":"function","title":"Owat.Gin.SS12.Fdas.cases_by_field/1","doc":"","ref":"Owat.Gin.SS12.Fdas.html#cases_by_field/1"},{"type":"function","title":"Owat.Gin.SS12.Fdas.providers/0","doc":"","ref":"Owat.Gin.SS12.Fdas.html#providers/0"},{"type":"function","title":"Owat.Gin.SS12.Fdas.request!/2","doc":"","ref":"Owat.Gin.SS12.Fdas.html#request!/2"},{"type":"function","title":"Owat.Gin.SS12.Fdas.request!/3","doc":"","ref":"Owat.Gin.SS12.Fdas.html#request!/3"},{"type":"type","title":"Owat.Gin.SS12.Fdas.case_code/0","doc":"","ref":"Owat.Gin.SS12.Fdas.html#t:case_code/0"},{"type":"type","title":"Owat.Gin.SS12.Fdas.provider/0","doc":"","ref":"Owat.Gin.SS12.Fdas.html#t:provider/0"},{"type":"module","title":"Owat.Gin.SS12.Kse","doc":"Consult Service","ref":"Owat.Gin.SS12.Kse.html"},{"type":"function","title":"Owat.Gin.SS12.Kse.cancel_consult/4","doc":"","ref":"Owat.Gin.SS12.Kse.html#cancel_consult/4"},{"type":"function","title":"Owat.Gin.SS12.Kse.change_case_code/5","doc":"","ref":"Owat.Gin.SS12.Kse.html#change_case_code/5"},{"type":"function","title":"Owat.Gin.SS12.Kse.get_consult_data/3","doc":"","ref":"Owat.Gin.SS12.Kse.html#get_consult_data/3"},{"type":"function","title":"Owat.Gin.SS12.Kse.get_consult_data/5","doc":"","ref":"Owat.Gin.SS12.Kse.html#get_consult_data/5"},{"type":"function","title":"Owat.Gin.SS12.Kse.reactivate_consult/4","doc":"","ref":"Owat.Gin.SS12.Kse.html#reactivate_consult/4"},{"type":"function","title":"Owat.Gin.SS12.Kse.request!/2","doc":"","ref":"Owat.Gin.SS12.Kse.html#request!/2"},{"type":"function","title":"Owat.Gin.SS12.Kse.request!/3","doc":"","ref":"Owat.Gin.SS12.Kse.html#request!/3"},{"type":"function","title":"Owat.Gin.SS12.Kse.send_supplemental_answer/4","doc":"","ref":"Owat.Gin.SS12.Kse.html#send_supplemental_answer/4"},{"type":"function","title":"Owat.Gin.SS12.Kse.submit_consult/6","doc":"","ref":"Owat.Gin.SS12.Kse.html#submit_consult/6"},{"type":"type","title":"Owat.Gin.SS12.Kse.consult_opt/0","doc":"Creating a consult may take the following options:\n\n- `:ssn` - specifies the SSN to perform the consult for\n- `:provider` - specifies a provider in case of a previous claims fault\n- `:claim` - specifies a claims ID in case of a previous claims fault\n- `:afterwards` - a map specifying the :date of consult and the\n  :reason for retroactive registering (this would be a tuple,  but then it\n  would not be json serializable)\n- `:offline` - specifies that this consult was recorded offline and is now\n  being retried. This takes the date of the consult.\n- `:surrogate` - specifies a surrogate voucher code\n\nWhen specifying both `:offline` and `:afterwards` the dates must be the same.\nIf they are not, the last specified date wins.","ref":"Owat.Gin.SS12.Kse.html#t:consult_opt/0"},{"type":"type","title":"Owat.Gin.SS12.Kse.search_criterion/0","doc":"","ref":"Owat.Gin.SS12.Kse.html#t:search_criterion/0"},{"type":"module","title":"Owat.Gin.SS12.Support","doc":"Helper module for common SS12 functions","ref":"Owat.Gin.SS12.Support.html"},{"type":"function","title":"Owat.Gin.SS12.Support.format_date/1","doc":"","ref":"Owat.Gin.SS12.Support.html#format_date/1"},{"type":"function","title":"Owat.Gin.SS12.Support.parse_date/1","doc":"Parses a string in format `%d.%m.%Y`","ref":"Owat.Gin.SS12.Support.html#parse_date/1"},{"type":"module","title":"Owat.Gin.Signing","doc":"Signing supervisor\n\nThis module handles GINO-signing related functionality.\nIt is meant to be started in the supervision tree and supervises the Signing-Jobs.","ref":"Owat.Gin.Signing.html"},{"type":"function","title":"Owat.Gin.Signing.change_vpnr/1","doc":"Callback function to notify the supervisor that the VPNR has changed.\n\nThis will trigger a restart of all signing jobs.","ref":"Owat.Gin.Signing.html#change_vpnr/1"},{"type":"function","title":"Owat.Gin.Signing.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.Gin.Signing.html#child_spec/1"},{"type":"function","title":"Owat.Gin.Signing.ready?/0","doc":"Returns true if the system should generally be ready to handle signatures.\n\nThis tests that all these conditions are met:\n\n1. There is a process registered to the module atom\n2. The process is alive\n3. There are readers available\n4. At least one of these readers is marked as admin\n5. There is at least one admin card present on an admin card reader","ref":"Owat.Gin.Signing.html#ready?/0"},{"type":"function","title":"Owat.Gin.Signing.sign_admin_card/0","doc":"Obtains a VP-type signature with the admin card.","ref":"Owat.Gin.Signing.html#sign_admin_card/0"},{"type":"function","title":"Owat.Gin.Signing.sign_with_admin_card/1","doc":"Obtains a SV-type signature of a SSN with the admin card.","ref":"Owat.Gin.Signing.html#sign_with_admin_card/1"},{"type":"function","title":"Owat.Gin.Signing.start_link/1","doc":"","ref":"Owat.Gin.Signing.html#start_link/1"},{"type":"function","title":"Owat.Gin.Signing.update_readers/1","doc":"Callback function for the Detector-Job to notify the supervisor of the\ncurrently available readers.","ref":"Owat.Gin.Signing.html#update_readers/1"},{"type":"type","title":"Owat.Gin.Signing.admin_card_signing_problem/0","doc":"","ref":"Owat.Gin.Signing.html#t:admin_card_signing_problem/0"},{"type":"module","title":"Owat.Gin.Signing.Detector","doc":"Small task to scan recurring for e-Card readers.","ref":"Owat.Gin.Signing.Detector.html"},{"type":"function","title":"Owat.Gin.Signing.Detector.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\n`arg` is passed as the argument to `Task.start_link/1` in the `:start` field\nof the spec.\n\nFor more information, see the `Supervisor` module,\nthe `Supervisor.child_spec/2` function and the `t:Supervisor.child_spec/0` type.","ref":"Owat.Gin.Signing.Detector.html#child_spec/1"},{"type":"function","title":"Owat.Gin.Signing.Detector.run/0","doc":"Obtains a list of readers from SS92 and sends them to `Owat.Gin.Signing`.","ref":"Owat.Gin.Signing.Detector.html#run/0"},{"type":"function","title":"Owat.Gin.Signing.Detector.start_link/1","doc":"","ref":"Owat.Gin.Signing.Detector.html#start_link/1"},{"type":"module","title":"Owat.Gin.SvPersonV2","doc":"Handles objects of type SvPersonV2 of the SS12 API","ref":"Owat.Gin.SvPersonV2.html"},{"type":"function","title":"Owat.Gin.SvPersonV2.assert/1","doc":"","ref":"Owat.Gin.SvPersonV2.html#assert/1"},{"type":"module","title":"Owat.Guardian","doc":"Guardian adapter for OWAT.","ref":"Owat.Guardian.html"},{"type":"function","title":"Owat.Guardian.after_encode_and_sign/4","doc":"","ref":"Owat.Guardian.html#after_encode_and_sign/4"},{"type":"function","title":"Owat.Guardian.after_sign_in/5","doc":"","ref":"Owat.Guardian.html#after_sign_in/5"},{"type":"function","title":"Owat.Guardian.before_sign_out/3","doc":"","ref":"Owat.Guardian.html#before_sign_out/3"},{"type":"function","title":"Owat.Guardian.build_claims/3","doc":"","ref":"Owat.Guardian.html#build_claims/3"},{"type":"function","title":"Owat.Guardian.config/0","doc":"Fetches the configuration for this module.","ref":"Owat.Guardian.html#config/0"},{"type":"function","title":"Owat.Guardian.config/2","doc":"Returns a resolved value of the configuration found at a key.\n\nSee `Guardian.Config.resolve_value/1`.","ref":"Owat.Guardian.html#config/2"},{"type":"function","title":"Owat.Guardian.decode_and_verify/3","doc":"Decodes and verifies a token using the configuration on the implementation\nmodule.\n\nSee `Guardian.decode_and_verify/4`.","ref":"Owat.Guardian.html#decode_and_verify/3"},{"type":"function","title":"Owat.Guardian.default_token_type/0","doc":"The default type of token for this module.","ref":"Owat.Guardian.html#default_token_type/0"},{"type":"function","title":"Owat.Guardian.encode_and_sign/3","doc":"Encodes the claims.\n\nSee `Guardian.encode_and_sign/4` for more information.","ref":"Owat.Guardian.html#encode_and_sign/3"},{"type":"function","title":"Owat.Guardian.exchange/4","doc":"Exchanges a token of one type for another.\n\nSee `Guardian.exchange` for more information.","ref":"Owat.Guardian.html#exchange/4"},{"type":"function","title":"Owat.Guardian.on_exchange/3","doc":"","ref":"Owat.Guardian.html#on_exchange/3"},{"type":"function","title":"Owat.Guardian.on_refresh/3","doc":"","ref":"Owat.Guardian.html#on_refresh/3"},{"type":"function","title":"Owat.Guardian.on_revoke/3","doc":"","ref":"Owat.Guardian.html#on_revoke/3"},{"type":"function","title":"Owat.Guardian.on_verify/3","doc":"","ref":"Owat.Guardian.html#on_verify/3"},{"type":"function","title":"Owat.Guardian.peek/1","doc":"Provides the content of the token but without verification\nof either the claims or the signature.\n\nClaims will be present at the `:claims` key.\n\nSee `Guardian.peek/2` for more information.","ref":"Owat.Guardian.html#peek/1"},{"type":"function","title":"Owat.Guardian.refresh/2","doc":"Refresh a token.\n\nSee `Guardian.refresh` for more information.","ref":"Owat.Guardian.html#refresh/2"},{"type":"function","title":"Owat.Guardian.resource_from_claims/1","doc":"","ref":"Owat.Guardian.html#resource_from_claims/1"},{"type":"function","title":"Owat.Guardian.resource_from_token/3","doc":"Fetch the resource and claims directly from a token.\n\nSee `Guardian.resource_from_token` for more information.","ref":"Owat.Guardian.html#resource_from_token/3"},{"type":"function","title":"Owat.Guardian.revoke/2","doc":"Revoke a token.\n\nSee `Guardian.revoke` for more information.","ref":"Owat.Guardian.html#revoke/2"},{"type":"function","title":"Owat.Guardian.sliding_cookie/3","doc":"If Guardian.Plug.SlidingCookie is used, this callback will be invoked to\nreturn the new claims, or an error (which will mean the cookie will not\nbe refreshed).","ref":"Owat.Guardian.html#sliding_cookie/3"},{"type":"function","title":"Owat.Guardian.subject_for_token/2","doc":"","ref":"Owat.Guardian.html#subject_for_token/2"},{"type":"function","title":"Owat.Guardian.verify_claims/2","doc":"","ref":"Owat.Guardian.html#verify_claims/2"},{"type":"module","title":"Owat.Guardian.Plug","doc":"","ref":"Owat.Guardian.Plug.html"},{"type":"function","title":"Owat.Guardian.Plug.authenticated?/2","doc":"","ref":"Owat.Guardian.Plug.html#authenticated?/2"},{"type":"function","title":"Owat.Guardian.Plug.clear_remember_me/2","doc":"","ref":"Owat.Guardian.Plug.html#clear_remember_me/2"},{"type":"function","title":"Owat.Guardian.Plug.current_claims/2","doc":"","ref":"Owat.Guardian.Plug.html#current_claims/2"},{"type":"function","title":"Owat.Guardian.Plug.current_resource/2","doc":"","ref":"Owat.Guardian.Plug.html#current_resource/2"},{"type":"function","title":"Owat.Guardian.Plug.current_token/2","doc":"","ref":"Owat.Guardian.Plug.html#current_token/2"},{"type":"function","title":"Owat.Guardian.Plug.implementation/0","doc":"","ref":"Owat.Guardian.Plug.html#implementation/0"},{"type":"function","title":"Owat.Guardian.Plug.put_current_claims/3","doc":"","ref":"Owat.Guardian.Plug.html#put_current_claims/3"},{"type":"function","title":"Owat.Guardian.Plug.put_current_resource/3","doc":"","ref":"Owat.Guardian.Plug.html#put_current_resource/3"},{"type":"function","title":"Owat.Guardian.Plug.put_current_token/3","doc":"","ref":"Owat.Guardian.Plug.html#put_current_token/3"},{"type":"function","title":"Owat.Guardian.Plug.put_session_token/3","doc":"","ref":"Owat.Guardian.Plug.html#put_session_token/3"},{"type":"function","title":"Owat.Guardian.Plug.remember_me/4","doc":"","ref":"Owat.Guardian.Plug.html#remember_me/4"},{"type":"function","title":"Owat.Guardian.Plug.remember_me_from_token/4","doc":"","ref":"Owat.Guardian.Plug.html#remember_me_from_token/4"},{"type":"function","title":"Owat.Guardian.Plug.sign_in/4","doc":"","ref":"Owat.Guardian.Plug.html#sign_in/4"},{"type":"function","title":"Owat.Guardian.Plug.sign_out/2","doc":"","ref":"Owat.Guardian.Plug.html#sign_out/2"},{"type":"module","title":"Owat.Legacy.Windoc","doc":"Legacy Backend Adapter for Windoc","ref":"Owat.Legacy.Windoc.html"},{"type":"function","title":"Owat.Legacy.Windoc.create/1","doc":"","ref":"Owat.Legacy.Windoc.html#create/1"},{"type":"function","title":"Owat.Legacy.Windoc.create_or_push/1","doc":"","ref":"Owat.Legacy.Windoc.html#create_or_push/1"},{"type":"function","title":"Owat.Legacy.Windoc.get_all/0","doc":"","ref":"Owat.Legacy.Windoc.html#get_all/0"},{"type":"function","title":"Owat.Legacy.Windoc.make_person/1","doc":"Converts an internal `Owat.Model.Person` struct to a legacy patient map.","ref":"Owat.Legacy.Windoc.html#make_person/1"},{"type":"function","title":"Owat.Legacy.Windoc.notify/1","doc":"Notifies the sequencer of changed settings.","ref":"Owat.Legacy.Windoc.html#notify/1"},{"type":"function","title":"Owat.Legacy.Windoc.push/1","doc":"","ref":"Owat.Legacy.Windoc.html#push/1"},{"type":"function","title":"Owat.Legacy.Windoc.push/2","doc":"","ref":"Owat.Legacy.Windoc.html#push/2"},{"type":"function","title":"Owat.Legacy.Windoc.push_consult/1","doc":"","ref":"Owat.Legacy.Windoc.html#push_consult/1"},{"type":"function","title":"Owat.Legacy.Windoc.search_by_ssn/1","doc":"","ref":"Owat.Legacy.Windoc.html#search_by_ssn/1"},{"type":"function","title":"Owat.Legacy.Windoc.to_category/1","doc":"","ref":"Owat.Legacy.Windoc.html#to_category/1"},{"type":"function","title":"Owat.Legacy.Windoc.to_country/1","doc":"","ref":"Owat.Legacy.Windoc.html#to_country/1"},{"type":"type","title":"Owat.Legacy.Windoc.legacy_consult_patient/0","doc":"","ref":"Owat.Legacy.Windoc.html#t:legacy_consult_patient/0"},{"type":"type","title":"Owat.Legacy.Windoc.legacy_patient/0","doc":"","ref":"Owat.Legacy.Windoc.html#t:legacy_patient/0"},{"type":"type","title":"Owat.Legacy.Windoc.udf/0","doc":"","ref":"Owat.Legacy.Windoc.html#t:udf/0"},{"type":"module","title":"Owat.Legacy.Windoc.Importer","doc":"Imports legacy data from the Windoc system.","ref":"Owat.Legacy.Windoc.Importer.html"},{"type":"function","title":"Owat.Legacy.Windoc.Importer.import_all/2","doc":"","ref":"Owat.Legacy.Windoc.Importer.html#import_all/2"},{"type":"function","title":"Owat.Legacy.Windoc.Importer.produce_address/2","doc":"Finds the given address through multiple steps of increasingly inclusive\n  fuzzy search on the meilisearch address book index.\n\n  The Street field is split into its street name and numbers parts using combined_with_street_number\n  and the numbers are parsed using queries_compound_street_number.\n  In the first step, the address book is checked for an exact match. If none can be found,\n  the following fuzzy search attempts will be made until a satisfying result is returned:\n  1. Fuzzy search the number and exact matches on everything else\n  2. Fuzzy search the street name and exact matches on everything else\n  3. Fuzzy search the street name and number, making sure the provided number is a substring of the result.\n  4. Fuzzy search the city and number, making sure the provided number is a substring of the result.\n  5. Fuzzy search the city and use the result to fuzzy search the street name and number with an\n    exact match on the found city, making sure teh number is a substring of the result.\n\n  If none of these steps yield a result, an empty list is returned.\n  If a matching address has been found, it is returned as a list containing a single residency struct\n  referencing the either an existing address book entry from the database or a newly created one.","ref":"Owat.Legacy.Windoc.Importer.html#produce_address/2"},{"type":"function","title":"Owat.Legacy.Windoc.Importer.produce_records/1","doc":"","ref":"Owat.Legacy.Windoc.Importer.html#produce_records/1"},{"type":"function","title":"Owat.Legacy.Windoc.Importer.split_duplicates/1","doc":"","ref":"Owat.Legacy.Windoc.Importer.html#split_duplicates/1"},{"type":"type","title":"Owat.Legacy.Windoc.Importer.import_data/0","doc":"An iodata-like structure of possibly nested lists of records.\n\nAny `nil` values shall be ignored upon import.\nThe structure of this data must follow the constraint that a depth first search of the lists results in correct import.\nThat is every dependant item comes after its dependency.","ref":"Owat.Legacy.Windoc.Importer.html#t:import_data/0"},{"type":"type","title":"Owat.Legacy.Windoc.Importer.original/0","doc":"","ref":"Owat.Legacy.Windoc.Importer.html#t:original/0"},{"type":"type","title":"Owat.Legacy.Windoc.Importer.record/0","doc":"A single record to be insert into the DB.\n\nContains the schema module as `:__type__`. May contain an `:id`.\nIf an `:id` is set the record must be inserted with this ID.\nIf no ID is set, one must be auto-generated prior to insert.\nA record never contains timestamps. There must always be generated prior to insert.","ref":"Owat.Legacy.Windoc.Importer.html#t:record/0"},{"type":"module","title":"Owat.MasterMedicationIndex","doc":"Holds detail information about medications","ref":"Owat.MasterMedicationIndex.html"},{"type":"function","title":"Owat.MasterMedicationIndex.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.MasterMedicationIndex.html#child_spec/1"},{"type":"function","title":"Owat.MasterMedicationIndex.compile_index/1","doc":"Compile binary index file from raw input data files.","ref":"Owat.MasterMedicationIndex.html#compile_index/1"},{"type":"function","title":"Owat.MasterMedicationIndex.eko/1","doc":"Check the EKO if this is the most economical medication.\n\nReturns `:best` when this is the most economical medication, `:ok` when there\nare better alternatives or `:no` when this medication is not part of EKO.","ref":"Owat.MasterMedicationIndex.html#eko/1"},{"type":"function","title":"Owat.MasterMedicationIndex.eko_info/1","doc":"","ref":"Owat.MasterMedicationIndex.html#eko_info/1"},{"type":"function","title":"Owat.MasterMedicationIndex.get/1","doc":"Obtains information by PZN.","ref":"Owat.MasterMedicationIndex.html#get/1"},{"type":"function","title":"Owat.MasterMedicationIndex.load_index/1","doc":"Load an index binary and expand it to a map keyed by PZN.","ref":"Owat.MasterMedicationIndex.html#load_index/1"},{"type":"function","title":"Owat.MasterMedicationIndex.load_to_db/0","doc":"Insert Medication records to DB from loaded index.","ref":"Owat.MasterMedicationIndex.html#load_to_db/0"},{"type":"function","title":"Owat.MasterMedicationIndex.start_link/1","doc":"","ref":"Owat.MasterMedicationIndex.html#start_link/1"},{"type":"module","title":"Owat.MasterPatientIndex","doc":"The master patient index GenServer","ref":"Owat.MasterPatientIndex.html"},{"type":"function","title":"Owat.MasterPatientIndex.add_contact/6","doc":"","ref":"Owat.MasterPatientIndex.html#add_contact/6"},{"type":"function","title":"Owat.MasterPatientIndex.add_residency/6","doc":"","ref":"Owat.MasterPatientIndex.html#add_residency/6"},{"type":"function","title":"Owat.MasterPatientIndex.broadcast/1","doc":"","ref":"Owat.MasterPatientIndex.html#broadcast/1"},{"type":"function","title":"Owat.MasterPatientIndex.by_id/1","doc":"Obtains a person by their ID.","ref":"Owat.MasterPatientIndex.html#by_id/1"},{"type":"function","title":"Owat.MasterPatientIndex.create_person/1","doc":"Creates an empty person without any data besides an unique ID.","ref":"Owat.MasterPatientIndex.html#create_person/1"},{"type":"function","title":"Owat.MasterPatientIndex.create_person/3","doc":"Creates a new person and immediately attaches name and life info with the given parameters.","ref":"Owat.MasterPatientIndex.html#create_person/3"},{"type":"function","title":"Owat.MasterPatientIndex.create_person/5","doc":"Creates a new person and immediately attaches an identifier with the given\nparameters.","ref":"Owat.MasterPatientIndex.html#create_person/5"},{"type":"function","title":"Owat.MasterPatientIndex.delete/1","doc":"","ref":"Owat.MasterPatientIndex.html#delete/1"},{"type":"function","title":"Owat.MasterPatientIndex.delete_contact/1","doc":"","ref":"Owat.MasterPatientIndex.html#delete_contact/1"},{"type":"function","title":"Owat.MasterPatientIndex.delete_residency/1","doc":"","ref":"Owat.MasterPatientIndex.html#delete_residency/1"},{"type":"function","title":"Owat.MasterPatientIndex.exists?/1","doc":"Check if a person with the given ID exists.","ref":"Owat.MasterPatientIndex.html#exists?/1"},{"type":"function","title":"Owat.MasterPatientIndex.find_by_contact/3","doc":"Find at most one person with the given contact details.","ref":"Owat.MasterPatientIndex.html#find_by_contact/3"},{"type":"function","title":"Owat.MasterPatientIndex.find_by_identifier/2","doc":"","ref":"Owat.MasterPatientIndex.html#find_by_identifier/2"},{"type":"function","title":"Owat.MasterPatientIndex.find_by_identifier_or_create/6","doc":"","ref":"Owat.MasterPatientIndex.html#find_by_identifier_or_create/6"},{"type":"function","title":"Owat.MasterPatientIndex.find_residencies/3","doc":"","ref":"Owat.MasterPatientIndex.html#find_residencies/3"},{"type":"function","title":"Owat.MasterPatientIndex.get_by_contact/3","doc":"Fetch possibly many persons with the given contact details.\n\nThe parameter `use` can take the value `:any` to not restrict the search by use.","ref":"Owat.MasterPatientIndex.html#get_by_contact/3"},{"type":"function","title":"Owat.MasterPatientIndex.get_by_identifier/2","doc":"Fetch possibly many persons with the given identifier.","ref":"Owat.MasterPatientIndex.html#get_by_identifier/2"},{"type":"function","title":"Owat.MasterPatientIndex.has_ssn?/1","doc":"","ref":"Owat.MasterPatientIndex.html#has_ssn?/1"},{"type":"function","title":"Owat.MasterPatientIndex.list_contacts/1","doc":"","ref":"Owat.MasterPatientIndex.html#list_contacts/1"},{"type":"function","title":"Owat.MasterPatientIndex.list_residencies/1","doc":"","ref":"Owat.MasterPatientIndex.html#list_residencies/1"},{"type":"function","title":"Owat.MasterPatientIndex.maybe_broadcast/1","doc":"","ref":"Owat.MasterPatientIndex.html#maybe_broadcast/1"},{"type":"function","title":"Owat.MasterPatientIndex.maybe_delete/1","doc":"","ref":"Owat.MasterPatientIndex.html#maybe_delete/1"},{"type":"function","title":"Owat.MasterPatientIndex.maybe_insert/2","doc":"","ref":"Owat.MasterPatientIndex.html#maybe_insert/2"},{"type":"function","title":"Owat.MasterPatientIndex.maybe_transact/1","doc":"","ref":"Owat.MasterPatientIndex.html#maybe_transact/1"},{"type":"function","title":"Owat.MasterPatientIndex.maybe_transact/2","doc":"","ref":"Owat.MasterPatientIndex.html#maybe_transact/2"},{"type":"function","title":"Owat.MasterPatientIndex.maybe_update/1","doc":"","ref":"Owat.MasterPatientIndex.html#maybe_update/1"},{"type":"function","title":"Owat.MasterPatientIndex.maybe_update/2","doc":"","ref":"Owat.MasterPatientIndex.html#maybe_update/2"},{"type":"function","title":"Owat.MasterPatientIndex.maybe_update/3","doc":"","ref":"Owat.MasterPatientIndex.html#maybe_update/3"},{"type":"function","title":"Owat.MasterPatientIndex.merge/2","doc":"","ref":"Owat.MasterPatientIndex.html#merge/2"},{"type":"function","title":"Owat.MasterPatientIndex.set_ssn/3","doc":"","ref":"Owat.MasterPatientIndex.html#set_ssn/3"},{"type":"function","title":"Owat.MasterPatientIndex.transact/1","doc":"","ref":"Owat.MasterPatientIndex.html#transact/1"},{"type":"function","title":"Owat.MasterPatientIndex.update_contact/2","doc":"","ref":"Owat.MasterPatientIndex.html#update_contact/2"},{"type":"function","title":"Owat.MasterPatientIndex.update_default_claim/2","doc":"","ref":"Owat.MasterPatientIndex.html#update_default_claim/2"},{"type":"function","title":"Owat.MasterPatientIndex.update_identifier/6","doc":"","ref":"Owat.MasterPatientIndex.html#update_identifier/6"},{"type":"function","title":"Owat.MasterPatientIndex.update_md_relation/2","doc":"","ref":"Owat.MasterPatientIndex.html#update_md_relation/2"},{"type":"function","title":"Owat.MasterPatientIndex.update_person/3","doc":"Updates a person with the given data.","ref":"Owat.MasterPatientIndex.html#update_person/3"},{"type":"function","title":"Owat.MasterPatientIndex.update_person_from_sas_result/2","doc":"","ref":"Owat.MasterPatientIndex.html#update_person_from_sas_result/2"},{"type":"function","title":"Owat.MasterPatientIndex.update_person_from_zpi_data/1","doc":"","ref":"Owat.MasterPatientIndex.html#update_person_from_zpi_data/1"},{"type":"function","title":"Owat.MasterPatientIndex.update_residency/4","doc":"","ref":"Owat.MasterPatientIndex.html#update_residency/4"},{"type":"function","title":"Owat.MasterPatientIndex.upsert_residencies/3","doc":"","ref":"Owat.MasterPatientIndex.html#upsert_residencies/3"},{"type":"type","title":"Owat.MasterPatientIndex.create_opt/0","doc":"","ref":"Owat.MasterPatientIndex.html#t:create_opt/0"},{"type":"type","title":"Owat.MasterPatientIndex.residency_arg/0","doc":"","ref":"Owat.MasterPatientIndex.html#t:residency_arg/0"},{"type":"module","title":"Owat.Medication","doc":"Functions relating to prescriptions.","ref":"Owat.Medication.html"},{"type":"module","title":"Workflow of prescribing medications - Owat.Medication","doc":"A prescription may or may not start with a proposal request. A proposal\nrequest can be accepted by a practitioner to become a draft order. The draft\norder exists because a prescription may prescribe multiple products at once.\nIssuing the prescription will set all draft orders to active and set the\ngroup identifier.","ref":"Owat.Medication.html#module-workflow-of-prescribing-medications"},{"type":"function","title":"Owat.Medication.accept_request/4","doc":"Accepts a request for a medication.\n\nSets the medication request to `order` intent.\nThis means a prescription is about to be issued but since it may be composed\nof multiple requests this function does not issue it yet.\n\nOne may optionally supply a dosage when accepting a request.\n  \nAccepting a request requires the request to be in status `active` with intent\n`proposal`, otherwise the error `:invalid_status` will be returned.","ref":"Owat.Medication.html#accept_request/4"},{"type":"function","title":"Owat.Medication.accept_request_substituting/5","doc":"Accepts a request in principle but overrides the medication.","ref":"Owat.Medication.html#accept_request_substituting/5"},{"type":"function","title":"Owat.Medication.broadcast/1","doc":"","ref":"Owat.Medication.html#broadcast/1"},{"type":"function","title":"Owat.Medication.by_id/1","doc":"","ref":"Owat.Medication.html#by_id/1"},{"type":"function","title":"Owat.Medication.by_id/2","doc":"","ref":"Owat.Medication.html#by_id/2"},{"type":"function","title":"Owat.Medication.for_person/1","doc":"","ref":"Owat.Medication.html#for_person/1"},{"type":"function","title":"Owat.Medication.issue_prescription/2","doc":"(Not implemented yet) Issues a prescription from the given request IDs.","ref":"Owat.Medication.html#issue_prescription/2"},{"type":"function","title":"Owat.Medication.mark_issued/4","doc":"Marks a request as been prescribed.","ref":"Owat.Medication.html#mark_issued/4"},{"type":"function","title":"Owat.Medication.maybe_broadcast/1","doc":"","ref":"Owat.Medication.html#maybe_broadcast/1"},{"type":"function","title":"Owat.Medication.maybe_delete/1","doc":"","ref":"Owat.Medication.html#maybe_delete/1"},{"type":"function","title":"Owat.Medication.maybe_insert/2","doc":"","ref":"Owat.Medication.html#maybe_insert/2"},{"type":"function","title":"Owat.Medication.maybe_transact/1","doc":"","ref":"Owat.Medication.html#maybe_transact/1"},{"type":"function","title":"Owat.Medication.maybe_transact/2","doc":"","ref":"Owat.Medication.html#maybe_transact/2"},{"type":"function","title":"Owat.Medication.maybe_update/1","doc":"","ref":"Owat.Medication.html#maybe_update/1"},{"type":"function","title":"Owat.Medication.maybe_update/2","doc":"","ref":"Owat.Medication.html#maybe_update/2"},{"type":"function","title":"Owat.Medication.maybe_update/3","doc":"","ref":"Owat.Medication.html#maybe_update/3"},{"type":"function","title":"Owat.Medication.order/4","doc":"Directly order a medication, skipping the proposal part.","ref":"Owat.Medication.html#order/4"},{"type":"function","title":"Owat.Medication.reject_request/4","doc":"Reject a request proposal with a given reason.","ref":"Owat.Medication.html#reject_request/4"},{"type":"function","title":"Owat.Medication.request/4","doc":"Request a new medication.\n\nThis does not issue a prescription, but merely signals a users proposal to prescribe a mediation to a person.","ref":"Owat.Medication.html#request/4"},{"type":"function","title":"Owat.Medication.rescind_request/3","doc":"","ref":"Owat.Medication.html#rescind_request/3"},{"type":"function","title":"Owat.Medication.transact/1","doc":"","ref":"Owat.Medication.html#transact/1"},{"type":"type","title":"Owat.Medication.medication_order_input/0","doc":"","ref":"Owat.Medication.html#t:medication_order_input/0"},{"type":"type","title":"Owat.Medication.medication_request_input/0","doc":"","ref":"Owat.Medication.html#t:medication_request_input/0"},{"type":"type","title":"Owat.Medication.order_opt/0","doc":"","ref":"Owat.Medication.html#t:order_opt/0"},{"type":"module","title":"Owat.Meilisearch","doc":"Provides functions to interact with the Meilisearch API.","ref":"Owat.Meilisearch.html"},{"type":"function","title":"Owat.Meilisearch.create_address_index/0","doc":"","ref":"Owat.Meilisearch.html#create_address_index/0"},{"type":"function","title":"Owat.Meilisearch.init/0","doc":"Initializes the Meilisearch client and creates the patient index if it does not exist.\n\nReturns an error if an error other than the missing index occurs.","ref":"Owat.Meilisearch.html#init/0"},{"type":"function","title":"Owat.Meilisearch.insert_addresses/1","doc":"","ref":"Owat.Meilisearch.html#insert_addresses/1"},{"type":"function","title":"Owat.Meilisearch.search_address/2","doc":"","ref":"Owat.Meilisearch.html#search_address/2"},{"type":"function","title":"Owat.Meilisearch.search_address/3","doc":"","ref":"Owat.Meilisearch.html#search_address/3"},{"type":"function","title":"Owat.Meilisearch.search_medication/1","doc":"","ref":"Owat.Meilisearch.html#search_medication/1"},{"type":"function","title":"Owat.Meilisearch.search_patients/1","doc":"Searches the patient index for the given query.\n\nReturns a list of up to 20 patients or an empty list if no patients were found or the query was invalid.","ref":"Owat.Meilisearch.html#search_patients/1"},{"type":"function","title":"Owat.Meilisearch.sync_medications/1","doc":"","ref":"Owat.Meilisearch.html#sync_medications/1"},{"type":"function","title":"Owat.Meilisearch.sync_patients/1","doc":"Deletes all documents from the patient index and inserts all patients from the database.","ref":"Owat.Meilisearch.html#sync_patients/1"},{"type":"function","title":"Owat.Meilisearch.update_patient/1","doc":"Updates the patient index with the given people.\n\nExisting entries will be replaced, if a value in the new entry is nil or missing, the previous value will be lost.","ref":"Owat.Meilisearch.html#update_patient/1"},{"type":"function","title":"Owat.Meilisearch.wait_for_tasks/2","doc":"","ref":"Owat.Meilisearch.html#wait_for_tasks/2"},{"type":"module","title":"Owat.Meilisearch.Patient","doc":"Provides functions to convert a person to a patient map for the Meilisearch index.","ref":"Owat.Meilisearch.Patient.html"},{"type":"function","title":"Owat.Meilisearch.Patient.from_person/1","doc":"Converts a person to a patient map for the Meilisearch index.","ref":"Owat.Meilisearch.Patient.html#from_person/1"},{"type":"function","title":"Owat.Meilisearch.Patient.to_data_map/1","doc":"Converts a patient struct to a data map for the Meilisearch index.","ref":"Owat.Meilisearch.Patient.html#to_data_map/1"},{"type":"type","title":"Owat.Meilisearch.Patient.t/0","doc":"","ref":"Owat.Meilisearch.Patient.html#t:t/0"},{"type":"module","title":"Owat.Model","doc":"Base functionality for models that get sent over the websocket connection.\n\nWhen used this module will import the `datatype` which will do the following\nwhen invoked:\n\n- Generate a `datamap` function that consumes the struct of the\n  caller and produces a stripped map according to the given rules in the do\n  block\n- Generate a zod schema file for each datatype that is used in the module","ref":"Owat.Model.html"},{"type":"module","title":"Usage - Owat.Model","doc":"Generally a list of `:->` expressions is given that specify which keys the\nresulting map shall have.\n\n```\ndatatype :fn_name do\n  :resulting_field_name ->\n    :struct_field\nend\n```\n\nThis will produce the function `fn_name/1` like this:\n\n```\ndef fn_name(internal_name) do\n  %{\n    resulting_field_name: internal_name.struct_field\n  }\nend\n```","ref":"Owat.Model.html#module-usage"},{"type":"module","title":"Complex Sub-Fields - Owat.Model","doc":"When the model has complex sub-fields, a parenthesized subexpression can be\ngiven. This subexpression gives the struct field name and the corresponding\ntype module. These fields are interpreted as optional if not specified\notherwise.\n\n```\ndatatype :fn_name do\n  :resulting_field_name ->\n    :struct_field :: Module.datatype_fn()\nend\n\n# ===>\n\ndef fn_name(internal_name) do\n  %{\n    resulting_field_name: Module.datatype_fn(internal_name.struct_field)\n  }\nend\n```\n\nWhen additional values need to be passed the following method is used to pass them:\n\n```\ndatatype :fn_name do\n  :resulting_field_name ->\n    :struct_field :: Module.datatype_fn(\"supplemental\", \"arguments\")\nend\n\n# ===>\n\ndef fn_name(internal_name) do\n  %{\n    resulting_field_name: Module.datatype_fn(struct.struct_field, [\"supplemental\", \"arguments\"])\n  }\nend\n```\n\nThis method of producing a value for a subfield by the subfields module can\nalso be used when in need to produce lists. In this case the module atom or\nmodule invocation has to be placed in list brackets. This is also required in\norder to ensure that the zod type validation adapts to an array type.\n\n```\ndatatype :fn_name do\n  :without_arguments -> :field_a :: [Module.datatype_fn()]\n  :with_arguments -> :field_b :: [Module.datatype_fn(\"supplemental\", \"arguments\")]\nend\n\n# ===>\n\ndef fn_name(internal_name) do\n  %{\n    without_arguments: Enum.map(struct.field_a, &Module.datatype_fn(&1))\n    with_arguments: Enum.map(struct.field_b, &Module.get_list(&1, [\"supplemental\", \"arguments\"]))\n  }\nend\n```","ref":"Owat.Model.html#module-complex-sub-fields"},{"type":"module","title":"Type overrides and optionals - Owat.Model","doc":"When a field's type cannot be automatically inferred or the type does not\nsupport zod typing, a type override can be specified.\n\n```\ndatatype :fn_name do\n  :resulting_field_name, TypeOverride ->\n    :struct_field\nend\n```\n\nWhen a field is optional the left side of the arrow shall be wrapped in a\ncall to optional:\n\n```\ndatatype :fn_name do\n  optional(:simple) ->\n    :struct_field_a\n\n  optional(:with_type_override, TypeOverride) ->\n    :struct_field_b\nend\n```","ref":"Owat.Model.html#module-type-overrides-and-optionals"},{"type":"module","title":"Precomputed values - Owat.Model","doc":"Values of the resulting data map can also be arbitrary code. This is done by\nwrapping the expression with the pin operator.\n\n```\ndatatype :fn_name do\n  :result -> ^Module.call()\nend\n```\n\nThe struct is generally invisible. When the value depends on the struct it\nhas to be made visible. This is done with the `:binds` option that also\nallows precomputing values to be used in multiple fields.\n\n```\ndatatype :fn_name, binds: struct do\n  :result -> ^Module.call(struct)\nend\n```\n\n```\ndatatype :fn_name, binds:\n        (struct ->\n          variable = Module.call(struct)\n        ) do\n  :a -> ^variable.a\n  :b -> ^variable.b\nend\n```","ref":"Owat.Model.html#module-precomputed-values"},{"type":"macro","title":"Owat.Model.datatype/3","doc":"","ref":"Owat.Model.html#datatype/3"},{"type":"function","title":"Owat.Model.newest/1","doc":"","ref":"Owat.Model.html#newest/1"},{"type":"function","title":"Owat.Model.newest/2","doc":"","ref":"Owat.Model.html#newest/2"},{"type":"module","title":"Owat.Model.Condition","doc":"Condition Model","ref":"Owat.Model.Condition.html"},{"type":"function","title":"Owat.Model.Condition.aum_administrative/1","doc":"","ref":"Owat.Model.Condition.html#aum_administrative/1"},{"type":"function","title":"Owat.Model.Condition.aum_lite/1","doc":"","ref":"Owat.Model.Condition.html#aum_lite/1"},{"type":"function","title":"Owat.Model.Condition.created_at/1","doc":"","ref":"Owat.Model.Condition.html#created_at/1"},{"type":"function","title":"Owat.Model.Condition.datamap/1","doc":"","ref":"Owat.Model.Condition.html#datamap/1"},{"type":"function","title":"Owat.Model.Condition.diagnosis/1","doc":"","ref":"Owat.Model.Condition.html#diagnosis/1"},{"type":"function","title":"Owat.Model.Condition.editable/1","doc":"","ref":"Owat.Model.Condition.html#editable/1"},{"type":"function","title":"Owat.Model.Condition.short_status/1","doc":"","ref":"Owat.Model.Condition.html#short_status/1"},{"type":"type","title":"Owat.Model.Condition.t/0","doc":"","ref":"Owat.Model.Condition.html#t:t/0"},{"type":"module","title":"Owat.Model.Encounter","doc":"Encounter Model","ref":"Owat.Model.Encounter.html"},{"type":"function","title":"Owat.Model.Encounter.base/1","doc":"","ref":"Owat.Model.Encounter.html#base/1"},{"type":"function","title":"Owat.Model.Encounter.datamap/1","doc":"","ref":"Owat.Model.Encounter.html#datamap/1"},{"type":"function","title":"Owat.Model.Encounter.ongoing_status?/1","doc":"Determines if a given terminology code represents an ongoing encounter status.","ref":"Owat.Model.Encounter.html#ongoing_status?/1"},{"type":"function","title":"Owat.Model.Encounter.ongoing_status_codes/0","doc":"","ref":"Owat.Model.Encounter.html#ongoing_status_codes/0"},{"type":"function","title":"Owat.Model.Encounter.present_status?/1","doc":"Determines if a given terminology code represents an encounter status where\nthe patient is currently present on site.","ref":"Owat.Model.Encounter.html#present_status?/1"},{"type":"function","title":"Owat.Model.Encounter.with_full_appointment/1","doc":"","ref":"Owat.Model.Encounter.html#with_full_appointment/1"},{"type":"function","title":"Owat.Model.Encounter.with_lite_consult/1","doc":"","ref":"Owat.Model.Encounter.html#with_lite_consult/1"},{"type":"type","title":"Owat.Model.Encounter.t/0","doc":"","ref":"Owat.Model.Encounter.html#t:t/0"},{"type":"module","title":"Owat.Model.LifeInfo","doc":"Record of information related to a person's life.\n\nThe following records types exist:\n- `:birth`\n- `:death`\n- `:citizen`","ref":"Owat.Model.LifeInfo.html"},{"type":"module","title":"Birth Record - Owat.Model.LifeInfo","doc":"A birth record is of `kind = :birth` and has a date.\nA birth record without date does not provide any information, since it is\nassumed, that any patient's life has begun.\nA birth record neither has the `confirmed` flag nor string `info`.","ref":"Owat.Model.LifeInfo.html#module-birth-record"},{"type":"module","title":"Death Record - Owat.Model.LifeInfo","doc":"A death record is of `kind = :death` and may have a date.\n  \nThe existence of a record without a date indicates that a person has died\nwithout the date of death being known.\n\nThe death record may be `confirmed` by setting the flag `true` or explicitly\nunconfirmed by setting the flag `false`. It may also be of unknown\nconfirmation state when the flag is `nil`.\n\nA death record does not have string `info`.","ref":"Owat.Model.LifeInfo.html#module-death-record"},{"type":"module","title":"Citizenship Record - Owat.Model.LifeInfo","doc":"A citizenship record is of `kind = :citizen`.\n\nA citizenship record has neither a date nor a confirmed flag.\n\nThe citizenship is stored as text `info` containing the ISO 2-letter country code.","ref":"Owat.Model.LifeInfo.html#module-citizenship-record"},{"type":"function","title":"Owat.Model.LifeInfo.get_value/2","doc":"","ref":"Owat.Model.LifeInfo.html#get_value/2"},{"type":"function","title":"Owat.Model.LifeInfo.select/2","doc":"","ref":"Owat.Model.LifeInfo.html#select/2"},{"type":"type","title":"Owat.Model.LifeInfo.birth_record/0","doc":"","ref":"Owat.Model.LifeInfo.html#t:birth_record/0"},{"type":"type","title":"Owat.Model.LifeInfo.citizenship_record/0","doc":"","ref":"Owat.Model.LifeInfo.html#t:citizenship_record/0"},{"type":"type","title":"Owat.Model.LifeInfo.death_record/0","doc":"","ref":"Owat.Model.LifeInfo.html#t:death_record/0"},{"type":"type","title":"Owat.Model.LifeInfo.t/0","doc":"","ref":"Owat.Model.LifeInfo.html#t:t/0"},{"type":"module","title":"Owat.Model.SexOrGender","doc":"Ecto model for the sex or gender information.","ref":"Owat.Model.SexOrGender.html"},{"type":"function","title":"Owat.Model.SexOrGender.get_value/2","doc":"Finds a `Owat.Model.SexOrGender` from a list by given characteristics.\n\nReturns nil when no element matches or none exists.\nReturns the newest element that matches the criteria.","ref":"Owat.Model.SexOrGender.html#get_value/2"},{"type":"function","title":"Examples - Owat.Model.SexOrGender.get_value/2","doc":"iex> SexOrGender.get_value([\n    ...>  %SexOrGender{\n    ...>   logical_source: \"Foo\",\n    ...>   value: \"foo\",\n    ...>   updated_at: ~U[2024-01-01T00:00:00.000Z]\n    ...>  },\n    ...>  %SexOrGender{\n    ...>   logical_source: \"Bar\",\n    ...>   value: \"bar\",\n    ...>   updated_at: ~U[2023-01-01T00:00:00.000Z]\n    ...>  }\n    ...> ], [])\n    \"foo\"\n\n    iex> SexOrGender.get_value([\n    ...>  %SexOrGender{\n    ...>   logical_source: \"Foo\",\n    ...>   value: \"foo\"\n    ...>  }\n    ...> ], logical_source: \"Foo\")\n    \"foo\"\n\n    iex> SexOrGender.get_value([], logical_source: \"Bar\")\n    nil\n\n    iex> SexOrGender.get_value([\n    ...>  %SexOrGender{\n    ...>   logical_source: \"Foo\",\n    ...>   value: \"foo\"\n    ...>  }\n    ...> ], logical_source: :mismatched_type)\n    nil\n\n    iex> SexOrGender.get_value([\n    ...>  %SexOrGender{\n    ...>   logical_source: \"Foo\",\n    ...>   value: \"foo\"\n    ...>  }\n    ...> ], logical_source: \"Bar\")\n    nil","ref":"Owat.Model.SexOrGender.html#get_value/2-examples"},{"type":"type","title":"Owat.Model.SexOrGender.t/0","doc":"","ref":"Owat.Model.SexOrGender.html#t:t/0"},{"type":"module","title":"Owat.Model.Task","doc":"Task Model","ref":"Owat.Model.Task.html"},{"type":"function","title":"Owat.Model.Task.completed_status?/1","doc":"Determines if a given terminology code represents either a done or an error task status.","ref":"Owat.Model.Task.html#completed_status?/1"},{"type":"function","title":"Owat.Model.Task.completed_status_codes/0","doc":"","ref":"Owat.Model.Task.html#completed_status_codes/0"},{"type":"function","title":"Owat.Model.Task.datamap/1","doc":"","ref":"Owat.Model.Task.html#datamap/1"},{"type":"function","title":"Owat.Model.Task.done_status?/1","doc":"Determines if a given terminology code represents a done task status.","ref":"Owat.Model.Task.html#done_status?/1"},{"type":"function","title":"Owat.Model.Task.encounter/1","doc":"","ref":"Owat.Model.Task.html#encounter/1"},{"type":"function","title":"Owat.Model.Task.error_status?/1","doc":"Determines if a given terminology code represents an error task status.","ref":"Owat.Model.Task.html#error_status?/1"},{"type":"function","title":"Owat.Model.Task.make_payload/1","doc":"","ref":"Owat.Model.Task.html#make_payload/1"},{"type":"function","title":"Owat.Model.Task.ongoing_status?/1","doc":"Determines if a given terminology code represents an ongoing task status.","ref":"Owat.Model.Task.html#ongoing_status?/1"},{"type":"function","title":"Owat.Model.Task.pending_status?/1","doc":"Determines if a given terminology code represents a pending task status.","ref":"Owat.Model.Task.html#pending_status?/1"},{"type":"function","title":"Owat.Model.Task.sorted/1","doc":"","ref":"Owat.Model.Task.html#sorted/1"},{"type":"type","title":"Owat.Model.Task.t/0","doc":"","ref":"Owat.Model.Task.html#t:t/0"},{"type":"module","title":"Owat.Model.TaskTemplate","doc":"Task Template Model","ref":"Owat.Model.TaskTemplate.html"},{"type":"function","title":"Owat.Model.TaskTemplate.changeset/2","doc":"","ref":"Owat.Model.TaskTemplate.html#changeset/2"},{"type":"function","title":"Owat.Model.TaskTemplate.datamap/1","doc":"","ref":"Owat.Model.TaskTemplate.html#datamap/1"},{"type":"type","title":"Owat.Model.TaskTemplate.t/0","doc":"","ref":"Owat.Model.TaskTemplate.html#t:t/0"},{"type":"module","title":"Owat.Model.User","doc":"User model","ref":"Owat.Model.User.html"},{"type":"function","title":"Owat.Model.User.datamap/1","doc":"","ref":"Owat.Model.User.html#datamap/1"},{"type":"function","title":"Owat.Model.User.lite/1","doc":"","ref":"Owat.Model.User.html#lite/1"},{"type":"function","title":"Owat.Model.User.portal/1","doc":"","ref":"Owat.Model.User.html#portal/1"},{"type":"type","title":"Owat.Model.User.type/0","doc":"","ref":"Owat.Model.User.html#t:type/0"},{"type":"module","title":"Owat.Permissions","doc":"This module exposes functions for capabilities-based permissions and also\nacts as plug for enforcing these.","ref":"Owat.Permissions.html"},{"type":"module","title":"Available Permissions - Owat.Permissions","doc":"These are the currently available capabilities:\n\n- **Technical Settings** (`:technical`)\n  - Integrations (Planery, Windoc, Devices, ...)\n  - Call Display\n- **Organizational Settings** (`:organizational`)\n  - Permissions\n  - Organization OID\n  - E-Card / GINS Settings\n  - Board Columns\n- **Administrative Settings** (`:administrative`)\n  - Healthcare Services\n  - Scheduling\n  - Opening Hours\n  - Task Templates\n- **General Access** (`:general_access`)\n  - Enables functions on patients that are not the users own file.\n  - Enables booking more than 1 month ahead\n  - Disables checking for minimum booking distance\n- **Prescribing** (`:prescribing`)\n  - Direct ordering of medications\n  - Accepting medication requests","ref":"Owat.Permissions.html#module-available-permissions"},{"type":"module","title":"Using this module as plug - Owat.Permissions","doc":"This module can be used in two ways as authentication plug.\n\n1. As simple permission gate:\n   ```\n   plug Owat.Permissions, permission: :technical\n   ```\n   This simply checks if the logged-in user has the specified permission.\n\n2. As person authorization:\n   ```\n   plug Owat.Permissions, person_id_key: \"person_id\"\n   ```\n   This will take the `\"person_id\"` key from the Conn's params and check if\n   the logged-in user has this ID assigned or if the user has the\n   `:general_access` permission.","ref":"Owat.Permissions.html#module-using-this-module-as-plug"},{"type":"function","title":"Owat.Permissions.all/0","doc":"Returns a list of all available permission atoms.","ref":"Owat.Permissions.html#all/0"},{"type":"function","title":"Owat.Permissions.authorize/2","doc":"Checks if a given user has permission.\n\nThe user can be given by an authenticated `Plug.Conn` or `Phoenix.Socket` struct.\nThe permission is either given as permission atom or the ID of a person record.\n\nThis function returns `:ok` when the user has permission, or `{:error, reason}` otherwise.\n`reason` is `:permission_insufficient` when the user does not have permission.\nWhen the user has `:general_access` permission and a non-existent person ID is given\n`:not_found` will be returned as `reason`.\n\n#### Example Usage (case-style)\n\n    def route(conn, _params) do\n      case Owat.Permissions.authorize(conn, :technical) do\n        :ok ->\n          perform_technical_action(conn)\n\n        {:error, :permission_insufficient} ->\n          conn\n          |> put_status(403)\n          |> json(%{message: \"forbidden\"})\n      end\n    end\n\n#### Example Usage (with-style)\n\n    def route(conn, _params) do\n      with :ok <- Owat.Permissions.authorize(conn, :technical),\n           :ok <- other_preconditions(conn) do\n          perform_technical_action(conn)\n      else\n        {:error, :permission_insufficient} ->\n          conn\n          |> put_status(403)\n          |> json(%{message: \"forbidden\"})\n      end\n    end","ref":"Owat.Permissions.html#authorize/2"},{"type":"function","title":"Owat.Permissions.employees/0","doc":"","ref":"Owat.Permissions.html#employees/0"},{"type":"type","title":"Owat.Permissions.permission/0","doc":"","ref":"Owat.Permissions.html#t:permission/0"},{"type":"module","title":"Owat.Release","doc":"Used for executing DB release tasks when run in production without Mix\ninstalled.","ref":"Owat.Release.html"},{"type":"function","title":"Owat.Release.migrate/0","doc":"","ref":"Owat.Release.html#migrate/0"},{"type":"function","title":"Owat.Release.rollback/2","doc":"","ref":"Owat.Release.html#rollback/2"},{"type":"module","title":"Owat.Repo","doc":"","ref":"Owat.Repo.html"},{"type":"function","title":"Owat.Repo.aggregate/3","doc":"","ref":"Owat.Repo.html#aggregate/3"},{"type":"function","title":"Owat.Repo.aggregate/4","doc":"","ref":"Owat.Repo.html#aggregate/4"},{"type":"function","title":"Owat.Repo.all/2","doc":"","ref":"Owat.Repo.html#all/2"},{"type":"function","title":"Owat.Repo.checked_out?/0","doc":"","ref":"Owat.Repo.html#checked_out?/0"},{"type":"function","title":"Owat.Repo.checkout/2","doc":"","ref":"Owat.Repo.html#checkout/2"},{"type":"function","title":"Owat.Repo.child_spec/1","doc":"","ref":"Owat.Repo.html#child_spec/1"},{"type":"function","title":"Owat.Repo.config/0","doc":"","ref":"Owat.Repo.html#config/0"},{"type":"function","title":"Owat.Repo.default_options/1","doc":"","ref":"Owat.Repo.html#default_options/1"},{"type":"function","title":"Owat.Repo.delete/2","doc":"","ref":"Owat.Repo.html#delete/2"},{"type":"function","title":"Owat.Repo.delete!/2","doc":"","ref":"Owat.Repo.html#delete!/2"},{"type":"function","title":"Owat.Repo.delete_all/2","doc":"","ref":"Owat.Repo.html#delete_all/2"},{"type":"function","title":"Owat.Repo.disconnect_all/2","doc":"A convenience function for SQL-based repositories that forces all connections in the\npool to disconnect within the given interval.\n\nSee `Ecto.Adapters.SQL.disconnect_all/3` for more information.","ref":"Owat.Repo.html#disconnect_all/2"},{"type":"function","title":"Owat.Repo.exists?/2","doc":"","ref":"Owat.Repo.html#exists?/2"},{"type":"function","title":"Owat.Repo.explain/3","doc":"A convenience function for SQL-based repositories that executes an EXPLAIN statement or similar\ndepending on the adapter to obtain statistics for the given query.\n\nSee `Ecto.Adapters.SQL.explain/4` for more information.","ref":"Owat.Repo.html#explain/3"},{"type":"function","title":"Owat.Repo.get/3","doc":"","ref":"Owat.Repo.html#get/3"},{"type":"function","title":"Owat.Repo.get!/3","doc":"","ref":"Owat.Repo.html#get!/3"},{"type":"function","title":"Owat.Repo.get_by/3","doc":"","ref":"Owat.Repo.html#get_by/3"},{"type":"function","title":"Owat.Repo.get_by!/3","doc":"","ref":"Owat.Repo.html#get_by!/3"},{"type":"function","title":"Owat.Repo.get_dynamic_repo/0","doc":"","ref":"Owat.Repo.html#get_dynamic_repo/0"},{"type":"function","title":"Owat.Repo.in_transaction?/0","doc":"","ref":"Owat.Repo.html#in_transaction?/0"},{"type":"function","title":"Owat.Repo.insert/2","doc":"","ref":"Owat.Repo.html#insert/2"},{"type":"function","title":"Owat.Repo.insert!/2","doc":"","ref":"Owat.Repo.html#insert!/2"},{"type":"function","title":"Owat.Repo.insert_all/3","doc":"","ref":"Owat.Repo.html#insert_all/3"},{"type":"function","title":"Owat.Repo.insert_or_update/2","doc":"","ref":"Owat.Repo.html#insert_or_update/2"},{"type":"function","title":"Owat.Repo.insert_or_update!/2","doc":"","ref":"Owat.Repo.html#insert_or_update!/2"},{"type":"function","title":"Owat.Repo.load/2","doc":"","ref":"Owat.Repo.html#load/2"},{"type":"function","title":"Owat.Repo.one/2","doc":"","ref":"Owat.Repo.html#one/2"},{"type":"function","title":"Owat.Repo.one!/2","doc":"","ref":"Owat.Repo.html#one!/2"},{"type":"function","title":"Owat.Repo.preload/3","doc":"","ref":"Owat.Repo.html#preload/3"},{"type":"function","title":"Owat.Repo.preload_changeset/3","doc":"","ref":"Owat.Repo.html#preload_changeset/3"},{"type":"function","title":"Owat.Repo.preload_if_changed/2","doc":"","ref":"Owat.Repo.html#preload_if_changed/2"},{"type":"function","title":"Owat.Repo.prepare_query/3","doc":"","ref":"Owat.Repo.html#prepare_query/3"},{"type":"function","title":"Owat.Repo.put_dynamic_repo/1","doc":"","ref":"Owat.Repo.html#put_dynamic_repo/1"},{"type":"function","title":"Owat.Repo.query/3","doc":"A convenience function for SQL-based repositories that executes the given query.\n\nSee `Ecto.Adapters.SQL.query/4` for more information.","ref":"Owat.Repo.html#query/3"},{"type":"function","title":"Owat.Repo.query!/3","doc":"A convenience function for SQL-based repositories that executes the given query.\n\nSee `Ecto.Adapters.SQL.query!/4` for more information.","ref":"Owat.Repo.html#query!/3"},{"type":"function","title":"Owat.Repo.query_many/3","doc":"A convenience function for SQL-based repositories that executes the given multi-result query.\n\nSee `Ecto.Adapters.SQL.query_many/4` for more information.","ref":"Owat.Repo.html#query_many/3"},{"type":"function","title":"Owat.Repo.query_many!/3","doc":"A convenience function for SQL-based repositories that executes the given multi-result query.\n\nSee `Ecto.Adapters.SQL.query_many!/4` for more information.","ref":"Owat.Repo.html#query_many!/3"},{"type":"function","title":"Owat.Repo.reload/2","doc":"","ref":"Owat.Repo.html#reload/2"},{"type":"function","title":"Owat.Repo.reload!/2","doc":"","ref":"Owat.Repo.html#reload!/2"},{"type":"function","title":"Owat.Repo.rollback/1","doc":"","ref":"Owat.Repo.html#rollback/1"},{"type":"function","title":"Owat.Repo.start_link/1","doc":"","ref":"Owat.Repo.html#start_link/1"},{"type":"function","title":"Owat.Repo.stop/1","doc":"","ref":"Owat.Repo.html#stop/1"},{"type":"function","title":"Owat.Repo.stream/2","doc":"","ref":"Owat.Repo.html#stream/2"},{"type":"function","title":"Owat.Repo.to_sql/2","doc":"A convenience function for SQL-based repositories that translates the given query to SQL.\n\nSee `Ecto.Adapters.SQL.to_sql/3` for more information.","ref":"Owat.Repo.html#to_sql/2"},{"type":"function","title":"Owat.Repo.transaction/2","doc":"","ref":"Owat.Repo.html#transaction/2"},{"type":"function","title":"Owat.Repo.update/2","doc":"","ref":"Owat.Repo.html#update/2"},{"type":"function","title":"Owat.Repo.update!/2","doc":"","ref":"Owat.Repo.html#update!/2"},{"type":"function","title":"Owat.Repo.update_all/3","doc":"","ref":"Owat.Repo.html#update_all/3"},{"type":"type","title":"Owat.Repo.relation/1","doc":"","ref":"Owat.Repo.html#t:relation/1"},{"type":"module","title":"Owat.Roster","doc":"The roster system of OWAT\n\nThis module handles everything roster related.","ref":"Owat.Roster.html"},{"type":"module","title":"Facility States - Owat.Roster","doc":"The facility can have one of three states, that can be influenced by its roster.\n\n* 'open' - the facility is within its general working hours\n* 'closed' - the facility is closed\n* 'standby' - the facility is not within its general working hours, but still\n  provides basic functions.\n\nIf the current state cannot be determined for whatever reason, it will be set\nto 'open'.","ref":"Owat.Roster.html#module-facility-states"},{"type":"module","title":"Roster Providers - Owat.Roster","doc":"The roster information is provided by a single source, called a\n_roster provider_. A roster provider implements the `Owat.Roster.Provider`\nbehaviour.\n\nThe currently used roster provider is set in config via:\n\n    config :owat, Owat.Roster.Provider, use: Roster.Provider.Module\n\nAny additional configuration for the specific module may also be incorporated\ninto the keyword list.","ref":"Owat.Roster.html#module-roster-providers"},{"type":"function","title":"Owat.Roster.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.Roster.html#child_spec/1"},{"type":"function","title":"Owat.Roster.opening_state/0","doc":"Queries the current opening state","ref":"Owat.Roster.html#opening_state/0"},{"type":"function","title":"Owat.Roster.start_link/1","doc":"","ref":"Owat.Roster.html#start_link/1"},{"type":"module","title":"Owat.Roster.OpeningHours","doc":"Handles opening hours","ref":"Owat.Roster.OpeningHours.html"},{"type":"function","title":"Owat.Roster.OpeningHours.get!/0","doc":"","ref":"Owat.Roster.OpeningHours.html#get!/0"},{"type":"function","title":"Owat.Roster.OpeningHours.update/1","doc":"","ref":"Owat.Roster.OpeningHours.html#update/1"},{"type":"module","title":"Owat.Roster.Planery","doc":"Roster provider implementation for Planery","ref":"Owat.Roster.Planery.html"},{"type":"function","title":"Owat.Roster.Planery.obtain_access_token!/0","doc":"","ref":"Owat.Roster.Planery.html#obtain_access_token!/0"},{"type":"function","title":"Owat.Roster.Planery.obtain_company_id!/1","doc":"","ref":"Owat.Roster.Planery.html#obtain_company_id!/1"},{"type":"function","title":"Owat.Roster.Planery.obtain_shifts!/4","doc":"","ref":"Owat.Roster.Planery.html#obtain_shifts!/4"},{"type":"behaviour","title":"Owat.Roster.Provider","doc":"A behaviour for Roster Providers.\n\nThe Roster Provider is a connector-type module that handles communications\nwith the upstream roster source. The roster provider module is thought to not\nhave to manage state, but it is expected that upstream communications is\nstateful. For this reason every function takes as last parameter the current\nstate and returns a tuple where its last element is the new state.\n\nThe `init/0` callback is used to obtain the initial state.","ref":"Owat.Roster.Provider.html"},{"type":"callback","title":"Owat.Roster.Provider.init/0","doc":"Returns the initial state.","ref":"Owat.Roster.Provider.html#c:init/0"},{"type":"callback","title":"Owat.Roster.Provider.shifts!/2","doc":"Returns the shift information for the given date.","ref":"Owat.Roster.Provider.html#c:shifts!/2"},{"type":"type","title":"Owat.Roster.Provider.state/0","doc":"The state of the roster provider.\n\nCan be any term. Will be nil initially.","ref":"Owat.Roster.Provider.html#t:state/0"},{"type":"module","title":"Owat.Roster.ShiftInfo","doc":"DTO for shift information","ref":"Owat.Roster.ShiftInfo.html"},{"type":"type","title":"Owat.Roster.ShiftInfo.t/0","doc":"","ref":"Owat.Roster.ShiftInfo.html#t:t/0"},{"type":"module","title":"Owat.Sessions","doc":"Session handling","ref":"Owat.Sessions.html"},{"type":"function","title":"Owat.Sessions.cache_evict_by_user/1","doc":"","ref":"Owat.Sessions.html#cache_evict_by_user/1"},{"type":"function","title":"Owat.Sessions.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.Sessions.html#child_spec/1"},{"type":"function","title":"Owat.Sessions.create!/2","doc":"","ref":"Owat.Sessions.html#create!/2"},{"type":"function","title":"Owat.Sessions.fetch_refresh_token/1","doc":"","ref":"Owat.Sessions.html#fetch_refresh_token/1"},{"type":"function","title":"Owat.Sessions.get/1","doc":"","ref":"Owat.Sessions.html#get/1"},{"type":"function","title":"Owat.Sessions.purge/1","doc":"","ref":"Owat.Sessions.html#purge/1"},{"type":"function","title":"Owat.Sessions.start_link/1","doc":"","ref":"Owat.Sessions.html#start_link/1"},{"type":"type","title":"Owat.Sessions.t/0","doc":"","ref":"Owat.Sessions.html#t:t/0"},{"type":"module","title":"Owat.Settings","doc":"Handles application settings","ref":"Owat.Settings.html"},{"type":"function","title":"Owat.Settings.changeset/2","doc":"","ref":"Owat.Settings.html#changeset/2"},{"type":"function","title":"Owat.Settings.get/1","doc":"","ref":"Owat.Settings.html#get/1"},{"type":"function","title":"Owat.Settings.update/2","doc":"","ref":"Owat.Settings.html#update/2"},{"type":"module","title":"Owat.Support","doc":"Various utility functions","ref":"Owat.Support.html"},{"type":"function","title":"Owat.Support.boolean_env/2","doc":"Obtains a boolean environment variable.\n\nThe following values are considered false: \"\", \"f\", \"false\", \"n\", \"no\", \"0\"\nAny other value is considered true.\n\nIf the key is not set, the `default` argument is returned.","ref":"Owat.Support.html#boolean_env/2"},{"type":"function","title":"Owat.Support.e164/1","doc":"Parse a phone number and format it in E.164 format.\n\nReturns either an ok-tuple with a valid E.164 formatted phone number or an\nerror-tuple with a human-readable error message string.","ref":"Owat.Support.html#e164/1"},{"type":"function","title":"Owat.Support.exclude_keep/2","doc":"","ref":"Owat.Support.html#exclude_keep/2"},{"type":"function","title":"Owat.Support.found/2","doc":"The same as `Enum.find/2` but returns a tuple of `{:ok, element}` when found\nand `{:error, :not_found}` otherwise.","ref":"Owat.Support.html#found/2"},{"type":"function","title":"Owat.Support.get_or_keep_fields/3","doc":"Extracts given fields from a map.\n\nReturns a map with the specified atoms as keys.\nA tuple of atoms `{old_key, new_key}` can be used to rename keys.\nAny key atom that has a corresponding string key in the original map will result in the original value.\nAll keys of the original map that are either not mentioned or not strings will be discarded.\nKeys not present in the original map will get the nonce value assigned in the result.","ref":"Owat.Support.html#get_or_keep_fields/3"},{"type":"function","title":"Examples - Owat.Support.get_or_keep_fields/3","doc":"iex> Support.get_or_keep_fields(%{\"take\" => 1, \"also\" => nil, \"drop\" => \"me\"}, [:take, :also, :some])\n    %{take: 1, also: nil, some: :keep}\n\n    iex> Support.get_or_keep_fields(%{\"take\" => 1, \"also\" => nil, \"drop\" => \"me\"}, [:take, {:also, :renamed}, :some])\n    %{take: 1, renamed: nil, some: :keep}\n\n    iex> Support.get_or_keep_fields(%{:key => \"foo\"}, [:key])\n    %{key: :keep}\n\n    iex> Support.get_or_keep_fields(%{}, [:key], :foo)\n    %{key: :foo}","ref":"Owat.Support.html#get_or_keep_fields/3-examples"},{"type":"function","title":"Owat.Support.html_escape/1","doc":"Escapes HTML entities in the given iodata.","ref":"Owat.Support.html#html_escape/1"},{"type":"function","title":"Owat.Support.integer_env/2","doc":"Obtains an integer environment variable.\n\nIf the key is not set or cannot be parsed, the `default` argument is returned.","ref":"Owat.Support.html#integer_env/2"},{"type":"function","title":"Owat.Support.merge_maps/2","doc":"Merges many maps.\n\nMaps are merged head-first. With keys in multiple maps the last one prevails.\nThis function performs shallow merges.","ref":"Owat.Support.html#merge_maps/2"},{"type":"function","title":"Examples - Owat.Support.merge_maps/2","doc":"iex> Support.merge_maps([%{a: \"a\"}, %{b: \"b\"}, %{c: \"c\"}])\n    %{a: \"a\", b: \"b\", c: \"c\"}\n\n    iex> Support.merge_maps([%{a: \"a\", b: \"b\"}, %{b: \"c\", c: \"c\"}])\n    %{a: \"a\", b: \"c\", c: \"c\"}\n\n    iex> Support.merge_maps([%{a: %{x: \"x\"}}, %{a: %{y: \"y\"}}])\n    %{a: %{y: \"y\"}}","ref":"Owat.Support.html#merge_maps/2-examples"},{"type":"function","title":"Owat.Support.random_ref/0","doc":"Generates a random reference string.","ref":"Owat.Support.html#random_ref/0"},{"type":"function","title":"Owat.Support.strip/2","doc":"Recursively strips all nil values from a bare map.\n\nOnly bare maps are stripped. Empty maps will be removed except the top-level\nmap. The top-level map can also be removed when settings `strip_all?` to\ntrue. Structs are never touched.","ref":"Owat.Support.html#strip/2"},{"type":"function","title":"Examples - Owat.Support.strip/2","doc":"iex> Support.strip(%{keep: 1, drop: nil})\n    %{keep: 1}\n\n    iex> Support.strip(%{:only => nil, \"keys\" => nil})\n    %{}\n\n    iex> Support.strip(%{:only => nil, \"keys\" => nil}, true)\n    nil\n\n    iex> Support.strip(%{recurse: %{keep: 1, drop: nil}, empty: %{drop: nil}})\n    %{recurse: %{keep: 1}}\n\n    iex> Support.strip(%{structs: %Foo{keeps: \"all\", fields: nil}})\n    %{structs: %Foo{keeps: \"all\", fields: nil}}","ref":"Owat.Support.html#strip/2-examples"},{"type":"module","title":"Owat.Support.Color","doc":"Ecto type to represent a color in CSS hex format.\n\nColor codes will be converted to 6-digit uppercase representation.","ref":"Owat.Support.Color.html"},{"type":"function","title":"Owat.Support.Color.cast/1","doc":"Casts a string to the correct representation.\n\nThis function accepts 3-digit and 6-digit representation, with or without\n  leading hash sign, upper or lower case. It always returns either a tuple\n  with :ok and the 6-digit uppercase representation with leading hash sign\n  or :error.","ref":"Owat.Support.Color.html#cast/1"},{"type":"function","title":"Examples - Owat.Support.Color.cast/1","doc":"The 3-digit and 6-digit format are allowed, with or without leading hash\n  sign.\n\n    iex> Color.cast(\"#123\")\n    {:ok, \"#112233\"}\n\n    iex> Color.cast(\"#0011aa\")\n    {:ok, \"#0011AA\"}\n\n    iex> Color.cast(\"1b3\")\n    {:ok, \"#11BB33\"}\n\n    iex> Color.cast(\"123456\")\n    {:ok, \"#123456\"}\n\nStrings containing not enough, too many or invalid characters will be\n  rejected, as well as any type which is no string.\n\n    iex> Color.cast(\"\")\n    :error\n\n    iex> Color.cast(\"1234\")\n    :error\n\n    iex> Color.cast(\"#ABCDEG\")\n    :error\n\n    iex> Color.cast(\"#1234567\")\n    :error\n\n    iex> Color.cast(:atom)\n    :error","ref":"Owat.Support.Color.html#cast/1-examples"},{"type":"function","title":"Owat.Support.Color.dump/1","doc":"","ref":"Owat.Support.Color.html#dump/1"},{"type":"function","title":"Owat.Support.Color.embed_as/1","doc":"","ref":"Owat.Support.Color.html#embed_as/1"},{"type":"function","title":"Owat.Support.Color.equal?/2","doc":"","ref":"Owat.Support.Color.html#equal?/2"},{"type":"function","title":"Owat.Support.Color.load/1","doc":"","ref":"Owat.Support.Color.html#load/1"},{"type":"function","title":"Owat.Support.Color.type/0","doc":"","ref":"Owat.Support.Color.html#type/0"},{"type":"type","title":"Owat.Support.Color.t/0","doc":"","ref":"Owat.Support.Color.html#t:t/0"},{"type":"module","title":"Owat.Support.DateTime","doc":"Various utility functions for DateTime","ref":"Owat.Support.DateTime.html"},{"type":"function","title":"Owat.Support.DateTime.at/2","doc":"","ref":"Owat.Support.DateTime.html#at/2"},{"type":"function","title":"Owat.Support.DateTime.end_of_day/1","doc":"Returns the end of the day of the given date as datetime.","ref":"Owat.Support.DateTime.html#end_of_day/1"},{"type":"function","title":"Owat.Support.DateTime.holiday?/1","doc":"Checks if the given date is a holiday.","ref":"Owat.Support.DateTime.html#holiday?/1"},{"type":"function","title":"Owat.Support.DateTime.local_date/1","doc":"Shifts a DateTime to the local timezone and extracts its date information.","ref":"Owat.Support.DateTime.html#local_date/1"},{"type":"function","title":"Owat.Support.DateTime.now/0","doc":"Returns the current time truncated to the given precision.","ref":"Owat.Support.DateTime.html#now/0"},{"type":"function","title":"Owat.Support.DateTime.now/1","doc":"","ref":"Owat.Support.DateTime.html#now/1"},{"type":"function","title":"Owat.Support.DateTime.partial_date_to_range/1","doc":"Converts a `t:partial_date/0` to a range of dates.","ref":"Owat.Support.DateTime.html#partial_date_to_range/1"},{"type":"function","title":"Owat.Support.DateTime.start_of_day/1","doc":"Returns the start of the day of the given date as datetime.","ref":"Owat.Support.DateTime.html#start_of_day/1"},{"type":"function","title":"Owat.Support.DateTime.today/0","doc":"Returns today's date in the configured timezone.","ref":"Owat.Support.DateTime.html#today/0"},{"type":"function","title":"Owat.Support.DateTime.xml_partial_date/1","doc":"Parses a possibly-partial date string.\n\nSupported formats are:\n- `YYYYMMDD`\n- `YYYYMM`\n- `YYYY`\n\nThe returned Date Struct has","ref":"Owat.Support.DateTime.html#xml_partial_date/1"},{"type":"type","title":"Owat.Support.DateTime.partial_date/0","doc":"A partial date","ref":"Owat.Support.DateTime.html#t:partial_date/0"},{"type":"module","title":"Owat.Support.Ecto","doc":"Helper functions for handling ecto operations","ref":"Owat.Support.Ecto.html"},{"type":"function","title":"Owat.Support.Ecto.changesets_to_multi/1","doc":"Takes a list of changesets and composes a `Ecto.Multi`","ref":"Owat.Support.Ecto.html#changesets_to_multi/1"},{"type":"function","title":"Owat.Support.Ecto.changesets_to_multi/2","doc":"","ref":"Owat.Support.Ecto.html#changesets_to_multi/2"},{"type":"function","title":"Owat.Support.Ecto.pretend_loaded_associated/2","doc":"","ref":"Owat.Support.Ecto.html#pretend_loaded_associated/2"},{"type":"function","title":"Owat.Support.Ecto.put_assoc/2","doc":"","ref":"Owat.Support.Ecto.html#put_assoc/2"},{"type":"function","title":"Owat.Support.Ecto.put_many_assoc/3","doc":"","ref":"Owat.Support.Ecto.html#put_many_assoc/3"},{"type":"module","title":"Owat.Support.Ehic","doc":"Struct and functions to work with EHIC data.","ref":"Owat.Support.Ehic.html"},{"type":"function","title":"Owat.Support.Ehic.parse/1","doc":"","ref":"Owat.Support.Ehic.html#parse/1"},{"type":"type","title":"Owat.Support.Ehic.t/0","doc":"","ref":"Owat.Support.Ehic.html#t:t/0"},{"type":"module","title":"Owat.Support.GDT","doc":"Module for handling GDT File","ref":"Owat.Support.GDT.html"},{"type":"function","title":"Owat.Support.GDT.treatment_request/8","doc":"","ref":"Owat.Support.GDT.html#treatment_request/8"},{"type":"module","title":"Owat.Support.Import","doc":"Toolset for importing data in various formats","ref":"Owat.Support.Import.html"},{"type":"function","title":"Owat.Support.Import.combined_with_street_number/1","doc":"Splits the street name into its name and number parts.","ref":"Owat.Support.Import.html#combined_with_street_number/1"},{"type":"function","title":"Owat.Support.Import.find_exact_address/5","doc":"Searches the address book for an exact match of the given address.","ref":"Owat.Support.Import.html#find_exact_address/5"},{"type":"function","title":"Owat.Support.Import.find_number_in_street/5","doc":"Fuzzy searches the address book using the number and exact matches on the rest of the address.","ref":"Owat.Support.Import.html#find_number_in_street/5"},{"type":"function","title":"Owat.Support.Import.find_similar_city/5","doc":"Fuzzy searches the address book using the city and number, making sure the provided number is a substring of the result.","ref":"Owat.Support.Import.html#find_similar_city/5"},{"type":"function","title":"Owat.Support.Import.find_similar_street/5","doc":"Fuzzy searches the address book using the street name and exact matches on the rest of the address.","ref":"Owat.Support.Import.html#find_similar_street/5"},{"type":"function","title":"Owat.Support.Import.find_similar_street_after_city/5","doc":"Fuzzy searches the address book using the city and use the result to fuzzy search the street name and number with an\nexact match on the found city, making sure teh number is a substring of the result.","ref":"Owat.Support.Import.html#find_similar_street_after_city/5"},{"type":"function","title":"Owat.Support.Import.find_similar_street_and_number/5","doc":"Fuzzy searches the address book using the street name and number, making sure the provided number is a substring of the result.","ref":"Owat.Support.Import.html#find_similar_street_and_number/5"},{"type":"function","title":"Owat.Support.Import.prepare_street/1","doc":"Prepares the street name for fuzzy search by replacing common abbreviations\nwith their full names.","ref":"Owat.Support.Import.html#prepare_street/1"},{"type":"function","title":"Owat.Support.Import.queries_compound_street_number/1","doc":"Parses the street number parts into a tuple of number, stairway, floor and door.","ref":"Owat.Support.Import.html#queries_compound_street_number/1"},{"type":"module","title":"Owat.Support.Plumbing","doc":"Supporting functions to handle pipelines","ref":"Owat.Support.Plumbing.html"},{"type":"function","title":"Owat.Support.Plumbing.opt/2","doc":"Pipes the first argument into the second argument only if it is truthy,\nreturns the first argument otherwise.","ref":"Owat.Support.Plumbing.html#opt/2"},{"type":"function","title":"Owat.Support.Plumbing.opt/3","doc":"Pipes the first argument into the third argument only if the second argument\nis truthy, returns the first argument otherwise.","ref":"Owat.Support.Plumbing.html#opt/3"},{"type":"module","title":"Owat.Support.Presence","doc":"A module to manage presence state.\n\nThis module contains the actionable portion of presence functionality. It\nmust be used with a state-carrying facility, such as a `GenServer`.","ref":"Owat.Support.Presence.html"},{"type":"module","title":"Method - Owat.Support.Presence","doc":"This module has functions to track resources in a presence channel. It only\ntracks the IDs. When an ID is added, removed or changed it will invoke a\nfetcher function to obtain the payload to be sent to the client.","ref":"Owat.Support.Presence.html#module-method"},{"type":"module","title":"Usage - Owat.Support.Presence","doc":"To use the functions in this module a state value has to be generated. To\ngenerate this value you have to supply the channel name and fetcher function.\nOptionally initial data may be passed to init.\n\n    Owat.Support.Presence.init(\"channel_name\", &fetch/1)\n    # or\n    Owat.Support.Presence.init(\"channel_name\", &fetch/1, [])\n\nTo update the state use `put/2` and `delete/2`.","ref":"Owat.Support.Presence.html#module-usage"},{"type":"module","title":"Local mode - Owat.Support.Presence","doc":"This module broadcasts the diff-updates on the given channel or only on a\nspecific socket, previously called local-mode.\nTo enable local mode, pass the socket instead of a channel name to the\n`init/3` function.\n\n    Owat.Support.Presence.init(socket, &fetch/1, [])\n\nThe init function itself does not send data to the client.","ref":"Owat.Support.Presence.html#module-local-mode"},{"type":"module","title":"Fetcher Function - Owat.Support.Presence","doc":"The fetcher function must produce the payload objects to send to the client.\nIt is given a list of IDs and returns a map of payload objects that are keyed\nwith their respective IDs. Returning an enumerable that can be directly\nconverted to this map is also acceptable.","ref":"Owat.Support.Presence.html#module-fetcher-function"},{"type":"function","title":"Owat.Support.Presence.delete/2","doc":"Deletes an object or list of objects from the state if present.","ref":"Owat.Support.Presence.html#delete/2"},{"type":"function","title":"Owat.Support.Presence.init/3","doc":"Produces an empty presence state.\n\nThe first parameter may either be a channel name, where all updates are\nbroadcasted to or a socket when the presence state is local to a single\nsocket (local mode).\n\nThe second parameter is the fetcher function. Since the state only tracks the\nIDs of the objects, the fetcher function is necessary to fetch the payload\ndata to be sent to the clients on change.\n\nOptionally the initial data may be supplied as third argument.\n\nThis function does not send data to clients.","ref":"Owat.Support.Presence.html#init/3"},{"type":"function","title":"Owat.Support.Presence.keys/1","doc":"Obtains the IDs of the resources currently present.","ref":"Owat.Support.Presence.html#keys/1"},{"type":"function","title":"Owat.Support.Presence.push/2","doc":"Pushes the presence state to a socket.","ref":"Owat.Support.Presence.html#push/2"},{"type":"function","title":"Owat.Support.Presence.put/2","doc":"Adds an object or list of objects to the state, replacing any previous entry with the same id.","ref":"Owat.Support.Presence.html#put/2"},{"type":"function","title":"Owat.Support.Presence.put_direct/3","doc":"Adds an object or list of objects to the state, replacing any previous entry\nwith the same id.\n\nThis function, in contrast to `put/2` does not invoke the fetcher and does\ntherefore require to have already the prepared datamap passed.","ref":"Owat.Support.Presence.html#put_direct/3"},{"type":"function","title":"Owat.Support.Presence.reset/2","doc":"Resets the state to contain only the given elements.\n\n> #### Beware {: .warning}\n> This action will not send updates for any elements that were previously in\n> the state. It will only join elements not present in the current state and\n> leave elements not present in the argument.","ref":"Owat.Support.Presence.html#reset/2"},{"type":"function","title":"Owat.Support.Presence.reset_direct/2","doc":"Resets the state to contain only the given elements.\n\nIn contrast to `reset/2`, this function does not invoke the fetcher and\nrejoins all elements regardless of the previous state.\nThis function expects already prepared datamaps to be passed.","ref":"Owat.Support.Presence.html#reset_direct/2"},{"type":"type","title":"Owat.Support.Presence.data/0","doc":"Data to be tracked in the presence state.\n\nAny object tracked in the presence state must have a unique ID and this ID\nmust be in the `:id` field of the map. The presence state only tracks the\ncontained IDs. An ID is transformed be the fetcher function to the payload to\nbe transmitted. Any function receiving data information may also only receive\nthe ID of the object to be tracked.","ref":"Owat.Support.Presence.html#t:data/0"},{"type":"type","title":"Owat.Support.Presence.fetcher/0","doc":"A function that takes a list of IDs and produces a map of `%{id => data}`\nwhere `data` is the payload to be sent to the clients.","ref":"Owat.Support.Presence.html#t:fetcher/0"},{"type":"opaque","title":"Owat.Support.Presence.state/0","doc":"The current presence state.\n\nAn instance of this type contains all necessary information to perform\nactions with this module. The state data is meant to be kept in a\nstate-carrying facility such as a `GenServer`.\n\nAll functions (except `init/3` of course) take the state parameter as\nfirst argument. Modifying functions return the new state. The state shall not\nbe modified by other means than this module.","ref":"Owat.Support.Presence.html#t:state/0"},{"type":"module","title":"Owat.Support.SSN","doc":"Support for the austrian Social Security Number (SSN).","ref":"Owat.Support.SSN.html"},{"type":"function","title":"Owat.Support.SSN.validate/1","doc":"Checks if a binary is a valid austrian social security number.\n\nReturns `{:ok, ssn}` when the binary is valid or `{:error, reason}` when\nit is not valid. The reason may be one of:\n\n- `:malformed` - the binary does not consist of exactly 10 digits\n- `:checksum_mismatch` - the checksum is invalid\n- `nil` - nil was given","ref":"Owat.Support.SSN.html#validate/1"},{"type":"module","title":"Owat.Support.Sorting","doc":"This module provides helper functions for sorting models.","ref":"Owat.Support.Sorting.html"},{"type":"module","title":"Requirements - Owat.Support.Sorting","doc":"1. Every model must be equipped with a `:sort_order` field.\n2. After any operation that updates the database state, the sanitizing\n   functions must be called.","ref":"Owat.Support.Sorting.html#module-requirements"},{"type":"function","title":"Owat.Support.Sorting.before/2","doc":"Calculates the sort_order before a given entry by id.\n\nIf an entry is given, the returned sort_order value is directly preceding\nthe given entry. If nil is given, the returned sort_order value is last.","ref":"Owat.Support.Sorting.html#before/2"},{"type":"function","title":"Owat.Support.Sorting.put_sort_order/2","doc":"","ref":"Owat.Support.Sorting.html#put_sort_order/2"},{"type":"function","title":"Owat.Support.Sorting.sanitize!/2","doc":"Runs the sanitation routine to respace all `sort_order` fields.\n\nOptionally, a binding can be given to filter the sanitation to a specific\nsubset of the model.","ref":"Owat.Support.Sorting.html#sanitize!/2"},{"type":"module","title":"Owat.Terminology.Code","doc":"This module is a custom Ecto type representing a column that is bound to a FHIR valueset.","ref":"Owat.Terminology.Code.html"},{"type":"function","title":"Owat.Terminology.Code.cast/2","doc":"","ref":"Owat.Terminology.Code.html#cast/2"},{"type":"function","title":"Owat.Terminology.Code.dump/3","doc":"","ref":"Owat.Terminology.Code.html#dump/3"},{"type":"function","title":"Owat.Terminology.Code.get_value/1","doc":"","ref":"Owat.Terminology.Code.html#get_value/1"},{"type":"function","title":"Owat.Terminology.Code.init/1","doc":"","ref":"Owat.Terminology.Code.html#init/1"},{"type":"function","title":"Owat.Terminology.Code.load/3","doc":"","ref":"Owat.Terminology.Code.html#load/3"},{"type":"function","title":"Owat.Terminology.Code.type/1","doc":"","ref":"Owat.Terminology.Code.html#type/1"},{"type":"type","title":"Owat.Terminology.Code.t/0","doc":"","ref":"Owat.Terminology.Code.html#t:t/0"},{"type":"module","title":"Owat.Validation","doc":"Model Validation Functions","ref":"Owat.Validation.html"},{"type":"function","title":"Owat.Validation.validate_allowed_chars/3","doc":"Checks if only characters from the `allow_list` charlist are present in `field`","ref":"Owat.Validation.html#validate_allowed_chars/3"},{"type":"function","title":"Owat.Validation.validate_start_before_end/3","doc":"Validates, that the value of the `start` field is after the value of the `end` field.\n\nThis validation accepts both values being nil.","ref":"Owat.Validation.html#validate_start_before_end/3"},{"type":"function","title":"Owat.Validation.validate_time_divisible_by_5/2","doc":"","ref":"Owat.Validation.html#validate_time_divisible_by_5/2"},{"type":"module","title":"Owat.WorkIncapacity","doc":"Business logic to work with work-incapacity conditions.","ref":"Owat.WorkIncapacity.html"},{"type":"function","title":"Owat.WorkIncapacity.delete/1","doc":"Deletes a work-incapacity condition given its ID.\n\nThis will also cancel it on the e-Card System.","ref":"Owat.WorkIncapacity.html#delete/1"},{"type":"function","title":"Owat.WorkIncapacity.fetch/1","doc":"Tries to update all conditions from the SS12.\n\nSince conditions are linked to an encounter this function must be called\nwith an encounter to which new conditions are linked to.","ref":"Owat.WorkIncapacity.html#fetch/1"},{"type":"function","title":"Owat.WorkIncapacity.for/1","doc":"Obtains all work-incapacity conditions for a given person's ID.","ref":"Owat.WorkIncapacity.html#for/1"},{"type":"function","title":"Owat.WorkIncapacity.get/1","doc":"Obtains one or many work-incapacity conditions by its IDs.\n\nReturns nil if the condition was not found or if the condition with this ID\nis not a work-incapacity condition.\n\nWhen the argument is a list, the return type is also a list.","ref":"Owat.WorkIncapacity.html#get/1"},{"type":"function","title":"Owat.WorkIncapacity.get_with/1","doc":"The same as `get/1` but returns an ok-tuple when found or an error-tuple\nwhen not found.","ref":"Owat.WorkIncapacity.html#get_with/1"},{"type":"function","title":"Owat.WorkIncapacity.new_condition/6","doc":"Create a new work-incapacity condition.","ref":"Owat.WorkIncapacity.html#new_condition/6"},{"type":"function","title":"Owat.WorkIncapacity.submit/1","doc":"Submits a condition to the SS12.","ref":"Owat.WorkIncapacity.html#submit/1"},{"type":"function","title":"Owat.WorkIncapacity.update/3","doc":"From the condition with the given ID update the given data.","ref":"Owat.WorkIncapacity.html#update/3"},{"type":"module","title":"Owat.WorkIncapacityForm","doc":"Module to generate a Work Incapacity Form from a Condition resource","ref":"Owat.WorkIncapacityForm.html"},{"type":"function","title":"Owat.WorkIncapacityForm.generate/1","doc":"Prepares the HTML source of the form with data taken from the given condition resource.","ref":"Owat.WorkIncapacityForm.html#generate/1"},{"type":"module","title":"Owat.Workflow","doc":"Encounter related functions","ref":"Owat.Workflow.html"},{"type":"function","title":"Owat.Workflow.broadcast/1","doc":"","ref":"Owat.Workflow.html#broadcast/1"},{"type":"function","title":"Owat.Workflow.call_encounter/2","doc":"","ref":"Owat.Workflow.html#call_encounter/2"},{"type":"function","title":"Owat.Workflow.complete_encounter/1","doc":"","ref":"Owat.Workflow.html#complete_encounter/1"},{"type":"function","title":"Owat.Workflow.create_encounter/3","doc":"","ref":"Owat.Workflow.html#create_encounter/3"},{"type":"function","title":"Owat.Workflow.encounter_by_id/1","doc":"Fetch an encounter by its ID.","ref":"Owat.Workflow.html#encounter_by_id/1"},{"type":"function","title":"Owat.Workflow.encounters_by_id/1","doc":"Fetch many encounters by their ID.","ref":"Owat.Workflow.html#encounters_by_id/1"},{"type":"function","title":"Owat.Workflow.encounters_by_person/1","doc":"Fetch many encounters by their person_id.","ref":"Owat.Workflow.html#encounters_by_person/1"},{"type":"function","title":"Owat.Workflow.find_relevant_persons/2","doc":"","ref":"Owat.Workflow.html#find_relevant_persons/2"},{"type":"function","title":"Owat.Workflow.get_stats/0","doc":"","ref":"Owat.Workflow.html#get_stats/0"},{"type":"function","title":"Owat.Workflow.maybe_broadcast/1","doc":"","ref":"Owat.Workflow.html#maybe_broadcast/1"},{"type":"function","title":"Owat.Workflow.maybe_delete/1","doc":"","ref":"Owat.Workflow.html#maybe_delete/1"},{"type":"function","title":"Owat.Workflow.maybe_insert/2","doc":"","ref":"Owat.Workflow.html#maybe_insert/2"},{"type":"function","title":"Owat.Workflow.maybe_transact/1","doc":"","ref":"Owat.Workflow.html#maybe_transact/1"},{"type":"function","title":"Owat.Workflow.maybe_transact/2","doc":"","ref":"Owat.Workflow.html#maybe_transact/2"},{"type":"function","title":"Owat.Workflow.maybe_update/1","doc":"","ref":"Owat.Workflow.html#maybe_update/1"},{"type":"function","title":"Owat.Workflow.maybe_update/2","doc":"","ref":"Owat.Workflow.html#maybe_update/2"},{"type":"function","title":"Owat.Workflow.maybe_update/3","doc":"","ref":"Owat.Workflow.html#maybe_update/3"},{"type":"function","title":"Owat.Workflow.ongoing_encounters/0","doc":"Obtains a list of currently ongoing encounters.\n\nThis performs a DB operation. Only the IDs are kept in the GenServer's state.","ref":"Owat.Workflow.html#ongoing_encounters/0"},{"type":"function","title":"Owat.Workflow.ongoing_encounters_by_person/1","doc":"","ref":"Owat.Workflow.html#ongoing_encounters_by_person/1"},{"type":"function","title":"Owat.Workflow.preload/0","doc":"","ref":"Owat.Workflow.html#preload/0"},{"type":"function","title":"Owat.Workflow.subscribe_relevant_persons/3","doc":"","ref":"Owat.Workflow.html#subscribe_relevant_persons/3"},{"type":"function","title":"Owat.Workflow.transact/1","doc":"","ref":"Owat.Workflow.html#transact/1"},{"type":"function","title":"Owat.Workflow.unsubscribe_irrelevant_persons/2","doc":"","ref":"Owat.Workflow.html#unsubscribe_irrelevant_persons/2"},{"type":"function","title":"Owat.Workflow.update_encounter/2","doc":"","ref":"Owat.Workflow.html#update_encounter/2"},{"type":"module","title":"Owat.Workflow.OngoingEncounters","doc":"GenServer to handle ongoing encounter presence.\n\nThis GenServer keeps the list of currently ongoing encounters in memory.\nChanges made directly in the DB are scanned with a message timeout every 60s\nof inactivity. A scan can also be triggered manually by using `rescan/0`.","ref":"Owat.Workflow.OngoingEncounters.html"},{"type":"function","title":"Owat.Workflow.OngoingEncounters.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"Owat.Workflow.OngoingEncounters.html#child_spec/1"},{"type":"function","title":"Owat.Workflow.OngoingEncounters.list/0","doc":"Get the list of ongoing encounter IDs.","ref":"Owat.Workflow.OngoingEncounters.html#list/0"},{"type":"function","title":"Owat.Workflow.OngoingEncounters.push/1","doc":"Pushes the current ongoing encounter state to the given socket.","ref":"Owat.Workflow.OngoingEncounters.html#push/1"},{"type":"function","title":"Owat.Workflow.OngoingEncounters.rescan/0","doc":"Rescan the currently ongoing encounters from the DB.","ref":"Owat.Workflow.OngoingEncounters.html#rescan/0"},{"type":"function","title":"Owat.Workflow.OngoingEncounters.start_link/1","doc":"","ref":"Owat.Workflow.OngoingEncounters.html#start_link/1"},{"type":"function","title":"Owat.Workflow.OngoingEncounters.sync/1","doc":"Updates the internal state to reflect the status of the given encounter.\n\nWill add the encounter ID to the state if the status is considered ongoing\nand not yet present in the state.\nWill delete the encounter ID if the status is not considered ongoing and the\nID was previously present in the state.","ref":"Owat.Workflow.OngoingEncounters.html#sync/1"},{"type":"module","title":"Owat.Workflow.TaskTemplates","doc":"Functions for handling task templates","ref":"Owat.Workflow.TaskTemplates.html"},{"type":"function","title":"Owat.Workflow.TaskTemplates.create_user_defined/4","doc":"Create a user-defined task template.","ref":"Owat.Workflow.TaskTemplates.html#create_user_defined/4"},{"type":"function","title":"Owat.Workflow.TaskTemplates.delete_template/1","doc":"Delete a user defined task template","ref":"Owat.Workflow.TaskTemplates.html#delete_template/1"},{"type":"function","title":"Owat.Workflow.TaskTemplates.maybe_broadcast/1","doc":"","ref":"Owat.Workflow.TaskTemplates.html#maybe_broadcast/1"},{"type":"function","title":"Owat.Workflow.TaskTemplates.maybe_delete/1","doc":"","ref":"Owat.Workflow.TaskTemplates.html#maybe_delete/1"},{"type":"function","title":"Owat.Workflow.TaskTemplates.maybe_insert/2","doc":"","ref":"Owat.Workflow.TaskTemplates.html#maybe_insert/2"},{"type":"function","title":"Owat.Workflow.TaskTemplates.maybe_transact/1","doc":"","ref":"Owat.Workflow.TaskTemplates.html#maybe_transact/1"},{"type":"function","title":"Owat.Workflow.TaskTemplates.maybe_transact/2","doc":"","ref":"Owat.Workflow.TaskTemplates.html#maybe_transact/2"},{"type":"function","title":"Owat.Workflow.TaskTemplates.maybe_update/1","doc":"","ref":"Owat.Workflow.TaskTemplates.html#maybe_update/1"},{"type":"function","title":"Owat.Workflow.TaskTemplates.maybe_update/2","doc":"","ref":"Owat.Workflow.TaskTemplates.html#maybe_update/2"},{"type":"function","title":"Owat.Workflow.TaskTemplates.maybe_update/3","doc":"","ref":"Owat.Workflow.TaskTemplates.html#maybe_update/3"},{"type":"function","title":"Owat.Workflow.TaskTemplates.task_template_by_code/1","doc":"Fetch a task template by its code.","ref":"Owat.Workflow.TaskTemplates.html#task_template_by_code/1"},{"type":"function","title":"Owat.Workflow.TaskTemplates.task_templates/0","doc":"Returns a list of all task templates.\n\nThis performs a DB operation.","ref":"Owat.Workflow.TaskTemplates.html#task_templates/0"},{"type":"function","title":"Owat.Workflow.TaskTemplates.transact/1","doc":"","ref":"Owat.Workflow.TaskTemplates.html#transact/1"},{"type":"function","title":"Owat.Workflow.TaskTemplates.update_template/2","doc":"Update a user defined task template's icon, color, label and description","ref":"Owat.Workflow.TaskTemplates.html#update_template/2"},{"type":"type","title":"Owat.Workflow.TaskTemplates.template_option/0","doc":"","ref":"Owat.Workflow.TaskTemplates.html#t:template_option/0"},{"type":"module","title":"Owat.Workflow.Tasks","doc":"Functions for handling tasks","ref":"Owat.Workflow.Tasks.html"},{"type":"function","title":"Owat.Workflow.Tasks.by_ids/1","doc":"","ref":"Owat.Workflow.Tasks.html#by_ids/1"},{"type":"function","title":"Owat.Workflow.Tasks.create_task/2","doc":"Create a task on an encounter.\n\nThe status will be set to `requested` and the requester will be set to the user making the request.\nThe sort_order will be set according to the `before` value if it matches another task_id on the\nencounter, or to the last position in the encounter.\nIf `code` is provided, it has to match an existing task template.\n`patient_instruction` cannot be provided without setting `patient_visible` to true.","ref":"Owat.Workflow.Tasks.html#create_task/2"},{"type":"function","title":"Owat.Workflow.Tasks.delete_task/1","doc":"Delete a task.","ref":"Owat.Workflow.Tasks.html#delete_task/1"},{"type":"function","title":"Owat.Workflow.Tasks.maybe_broadcast/1","doc":"","ref":"Owat.Workflow.Tasks.html#maybe_broadcast/1"},{"type":"function","title":"Owat.Workflow.Tasks.maybe_delete/1","doc":"","ref":"Owat.Workflow.Tasks.html#maybe_delete/1"},{"type":"function","title":"Owat.Workflow.Tasks.maybe_insert/2","doc":"","ref":"Owat.Workflow.Tasks.html#maybe_insert/2"},{"type":"function","title":"Owat.Workflow.Tasks.maybe_transact/1","doc":"","ref":"Owat.Workflow.Tasks.html#maybe_transact/1"},{"type":"function","title":"Owat.Workflow.Tasks.maybe_transact/2","doc":"","ref":"Owat.Workflow.Tasks.html#maybe_transact/2"},{"type":"function","title":"Owat.Workflow.Tasks.maybe_update/1","doc":"","ref":"Owat.Workflow.Tasks.html#maybe_update/1"},{"type":"function","title":"Owat.Workflow.Tasks.maybe_update/2","doc":"","ref":"Owat.Workflow.Tasks.html#maybe_update/2"},{"type":"function","title":"Owat.Workflow.Tasks.maybe_update/3","doc":"","ref":"Owat.Workflow.Tasks.html#maybe_update/3"},{"type":"function","title":"Owat.Workflow.Tasks.transact/1","doc":"","ref":"Owat.Workflow.Tasks.html#transact/1"},{"type":"function","title":"Owat.Workflow.Tasks.update_task/3","doc":"Update a task's status and sort_order.\n\nIf the status is set to a completed state, the completer_id will be set to the user_id of the\nuser making the request.","ref":"Owat.Workflow.Tasks.html#update_task/3"},{"type":"type","title":"Owat.Workflow.Tasks.task_option/0","doc":"","ref":"Owat.Workflow.Tasks.html#t:task_option/0"},{"type":"module","title":"Owat.ZodTransformer","doc":"Transforms an OWAT AST into a Zod module.","ref":"Owat.ZodTransformer.html"},{"type":"function","title":"Owat.ZodTransformer.base_name/1","doc":"Produce the base name of a module.\n\nThis is the last part of the module atom.","ref":"Owat.ZodTransformer.html#base_name/1"},{"type":"function","title":"Examples - Owat.ZodTransformer.base_name/1","doc":"iex> Zod.base_name(Foo.Bar.Baz)\n    \"Baz\"","ref":"Owat.ZodTransformer.html#base_name/1-examples"},{"type":"function","title":"Owat.ZodTransformer.dcfirst/1","doc":"","ref":"Owat.ZodTransformer.html#dcfirst/1"},{"type":"function","title":"Owat.ZodTransformer.embedded_name/1","doc":"","ref":"Owat.ZodTransformer.html#embedded_name/1"},{"type":"function","title":"Owat.ZodTransformer.mapping_name/2","doc":"","ref":"Owat.ZodTransformer.html#mapping_name/2"},{"type":"function","title":"Owat.ZodTransformer.schema_name/1","doc":"Produce the schema name of a module.\n\nThis is the base name, lowercase first character, with \"Schema\" as suffix.","ref":"Owat.ZodTransformer.html#schema_name/1"},{"type":"function","title":"Examples - Owat.ZodTransformer.schema_name/1","doc":"iex> Zod.schema_name(Foo.Bar.Baz)\n    \"bazSchema\"","ref":"Owat.ZodTransformer.html#schema_name/1-examples"},{"type":"function","title":"Owat.ZodTransformer.transform/1","doc":"Takes an AST node and returns a string containing the Zod schema definition as typescript code.","ref":"Owat.ZodTransformer.html#transform/1"},{"type":"function","title":"Owat.ZodTransformer.transform_ast/1","doc":"Takes an AST and returns a string containing the Zod schema definition as typescript code.","ref":"Owat.ZodTransformer.html#transform_ast/1"},{"type":"function","title":"Owat.ZodTransformer.type_name/2","doc":"","ref":"Owat.ZodTransformer.html#type_name/2"},{"type":"function","title":"Owat.ZodTransformer.ucfirst/1","doc":"","ref":"Owat.ZodTransformer.html#ucfirst/1"},{"type":"function","title":"Owat.ZodTransformer.write_module/2","doc":"Transforms an ast to zod schema definitions and writes them to a file using the given name.","ref":"Owat.ZodTransformer.html#write_module/2"},{"type":"type","title":"Owat.ZodTransformer.array/0","doc":"An array in zod","ref":"Owat.ZodTransformer.html#t:array/0"},{"type":"type","title":"Owat.ZodTransformer.assign/0","doc":"A typescript assign statement\n\n(Useful for referencing a schema in a different module)","ref":"Owat.ZodTransformer.html#t:assign/0"},{"type":"type","title":"Owat.ZodTransformer.ast/0","doc":"A Zod AST","ref":"Owat.ZodTransformer.html#t:ast/0"},{"type":"type","title":"Owat.ZodTransformer.base_type/0","doc":"A string in zod","ref":"Owat.ZodTransformer.html#t:base_type/0"},{"type":"type","title":"Owat.ZodTransformer.enum/0","doc":"An enum consisting of the name of the enum and a list of the enum's values.","ref":"Owat.ZodTransformer.html#t:enum/0"},{"type":"type","title":"Owat.ZodTransformer.enum_field/0","doc":"An enum field of an object in zod","ref":"Owat.ZodTransformer.html#t:enum_field/0"},{"type":"type","title":"Owat.ZodTransformer.extended/0","doc":"An extended object in zod","ref":"Owat.ZodTransformer.html#t:extended/0"},{"type":"type","title":"Owat.ZodTransformer.field/0","doc":"An object field in zod","ref":"Owat.ZodTransformer.html#t:field/0"},{"type":"type","title":"Owat.ZodTransformer.import/0","doc":"An import statement containing the name of the module to import and the names of the exports or types to import.\n\n{:type, String.t} represents a type import.\n{String.t, String.t} represents an import renamed from the original name to a new name.\n{:type, String.t, String.t} represents a type import renamed from the original name to a new name.","ref":"Owat.ZodTransformer.html#t:import/0"},{"type":"type","title":"Owat.ZodTransformer.infer/0","doc":"An inferred type in zod","ref":"Owat.ZodTransformer.html#t:infer/0"},{"type":"type","title":"Owat.ZodTransformer.interface/0","doc":"A typescript interface defintion\n\nThe last argument in the 4-tuple is a referene to the parent interface","ref":"Owat.ZodTransformer.html#t:interface/0"},{"type":"type","title":"Owat.ZodTransformer.interface_field/0","doc":"An interface field","ref":"Owat.ZodTransformer.html#t:interface_field/0"},{"type":"type","title":"Owat.ZodTransformer.literal/0","doc":"A literal in zod","ref":"Owat.ZodTransformer.html#t:literal/0"},{"type":"type","title":"Owat.ZodTransformer.modifier/0","doc":"A modifier in zod","ref":"Owat.ZodTransformer.html#t:modifier/0"},{"type":"type","title":"Owat.ZodTransformer.object/0","doc":"An object in zod","ref":"Owat.ZodTransformer.html#t:object/0"},{"type":"type","title":"Owat.ZodTransformer.schema/0","doc":"A reference to a previously defined or imported schema","ref":"Owat.ZodTransformer.html#t:schema/0"},{"type":"type","title":"Owat.ZodTransformer.union/0","doc":"A union in zod","ref":"Owat.ZodTransformer.html#t:union/0"},{"type":"module","title":"OwatWeb","doc":"The entrypoint for defining your web interface, such\nas controllers, components, channels, and so on.\n\nThis can be used in your application as:\n\n    use OwatWeb, :controller\n    use OwatWeb, :html\n\nThe definitions below will be executed for every controller,\ncomponent, etc, so keep them short and clean, focused\non imports, uses and aliases.\n\nDo NOT define functions inside the quoted expressions\nbelow. Instead, define additional modules and import\nthose modules here.","ref":"OwatWeb.html"},{"type":"macro","title":"OwatWeb.__using__/1","doc":"When used, dispatch to the appropriate controller/view/etc.","ref":"OwatWeb.html#__using__/1"},{"type":"function","title":"OwatWeb.api_controller/0","doc":"","ref":"OwatWeb.html#api_controller/0"},{"type":"function","title":"OwatWeb.channel/0","doc":"","ref":"OwatWeb.html#channel/0"},{"type":"function","title":"OwatWeb.controller/0","doc":"","ref":"OwatWeb.html#controller/0"},{"type":"function","title":"OwatWeb.router/0","doc":"","ref":"OwatWeb.html#router/0"},{"type":"function","title":"OwatWeb.static_paths/0","doc":"","ref":"OwatWeb.html#static_paths/0"},{"type":"function","title":"OwatWeb.verified_routes/0","doc":"","ref":"OwatWeb.html#verified_routes/0"},{"type":"module","title":"OwatWeb.ApiHelpers","doc":"Common helper functions for OpenAPI response objects\n\nThese functions generate default response-descriptor objects.","ref":"OwatWeb.ApiHelpers.html"},{"type":"module","title":"Options - OwatWeb.ApiHelpers","doc":"Any function taking `t:opts/0` may take these options:\n\n- `:except` to exclude specific response codes by their atom (meaning `:not_found` for `404` status code)","ref":"OwatWeb.ApiHelpers.html#module-options"},{"type":"function","title":"OwatWeb.ApiHelpers.basic_response/2","doc":"Response object for basic operations.\n\n- Caller-supplied OK response\n- Default bad-request response for business-rule failures\n- Default unauthorized response\n- Default forbidden response\n- Default not-found response\n- Default unprocessable-entity response","ref":"OwatWeb.ApiHelpers.html#basic_response/2"},{"type":"function","title":"OwatWeb.ApiHelpers.conflict/2","doc":"Helper function to return a 409 response with a supplied message","ref":"OwatWeb.ApiHelpers.html#conflict/2"},{"type":"function","title":"OwatWeb.ApiHelpers.create_response/2","doc":"Response object for default create operations.\n\n- Caller-supplied OK response\n- Default unauthorized response\n- Default forbidden response\n- Default not-found response\n- Default unprocessable-entity response","ref":"OwatWeb.ApiHelpers.html#create_response/2"},{"type":"function","title":"OwatWeb.ApiHelpers.delete_response/1","doc":"Response object for default delete operations.\n\n- Default no-content response for successful operation\n- Default bad-request response for business-rule failures\n- Default unauthorized response\n- Default forbidden response\n- Default not-found response\n- Default unprocessable-entity response","ref":"OwatWeb.ApiHelpers.html#delete_response/1"},{"type":"function","title":"OwatWeb.ApiHelpers.index_response/2","doc":"Response object for default index operations.\n\n- Caller-supplied OK response\n- Default unauthorized response\n- Default forbidden response\n- Default not-found response\n- Default unprocessable-entity response","ref":"OwatWeb.ApiHelpers.html#index_response/2"},{"type":"function","title":"OwatWeb.ApiHelpers.no_content/1","doc":"Helper function to return a 204 response","ref":"OwatWeb.ApiHelpers.html#no_content/1"},{"type":"function","title":"OwatWeb.ApiHelpers.not_found/1","doc":"Helper function to return a 404 response","ref":"OwatWeb.ApiHelpers.html#not_found/1"},{"type":"type","title":"OwatWeb.ApiHelpers.opts/0","doc":"","ref":"OwatWeb.ApiHelpers.html#t:opts/0"},{"type":"type","title":"OwatWeb.ApiHelpers.response_entry/0","doc":"","ref":"OwatWeb.ApiHelpers.html#t:response_entry/0"},{"type":"module","title":"OwatWeb.AuthController","doc":"This controller handles all authentication aspects.\n\nThe authentication is generally divided into two parts:\n  * OIDC general authentication\n  * Token claims\n\nFor all restricted services a OIDC general authentication must be obtained.\n  This is done by following the OIDC auth workflow for any available provider.\n  Currently there are the following providers:\n   * `azure` - Azure\n   * `eid` - ID Austria\n\nThe OIDC general authentication will issue a session cookie which has all authentication information attached.\n  This cookie has to be transmitted on every call to restricted services.","ref":"OwatWeb.AuthController.html"},{"type":"module","title":"OIDC General Authentication Flow - OwatWeb.AuthController","doc":"When the user agent navigates to `/auth/:provider/redirect` it will be issued a 302 redirect response with\n  all the necessary information.\n  The redirect will directly lead to the authentication page of the selected provider.\n\nAfter successful authentication the user agent is redirected by the IdP to the callback url.\n  Then the session is authenticated and can be used to access restricted services.","ref":"OwatWeb.AuthController.html#module-oidc-general-authentication-flow"},{"type":"module","title":"Token claims - OwatWeb.AuthController","doc":"To access websocket connections a specific __token claim__ has to be issued. This is to mitigate CSWSH attacks.\n\nA token claim for websocket connections can be obtained at `/api/self/websocket-token`.\n  The obtained token must then be passed as GET parameter in the websocket URL.","ref":"OwatWeb.AuthController.html#module-token-claims"},{"type":"function","title":"OwatWeb.AuthController.callback/2","doc":"","ref":"OwatWeb.AuthController.html#callback/2"},{"type":"function","title":"OwatWeb.AuthController.csrf_token/2","doc":"","ref":"OwatWeb.AuthController.html#csrf_token/2"},{"type":"function","title":"OwatWeb.AuthController.default_login/2","doc":"","ref":"OwatWeb.AuthController.html#default_login/2"},{"type":"function","title":"OwatWeb.AuthController.logout/2","doc":"","ref":"OwatWeb.AuthController.html#logout/2"},{"type":"function","title":"OwatWeb.AuthController.request/2","doc":"","ref":"OwatWeb.AuthController.html#request/2"},{"type":"function","title":"OwatWeb.AuthController.websocket_token/2","doc":"Issues a websocket token claim to an authenticated user.","ref":"OwatWeb.AuthController.html#websocket_token/2"},{"type":"module","title":"OwatWeb.CallDisplayController","doc":"This controller is responsible for managing registration of and streaming to the call displays.","ref":"OwatWeb.CallDisplayController.html"},{"type":"function","title":"OwatWeb.CallDisplayController.register/2","doc":"","ref":"OwatWeb.CallDisplayController.html#register/2"},{"type":"function","title":"OwatWeb.CallDisplayController.subscribe/2","doc":"","ref":"OwatWeb.CallDisplayController.html#subscribe/2"},{"type":"module","title":"OwatWeb.ChangesetJSON","doc":"","ref":"OwatWeb.ChangesetJSON.html"},{"type":"function","title":"OwatWeb.ChangesetJSON.error/1","doc":"Renders changeset errors.","ref":"OwatWeb.ChangesetJSON.html#error/1"},{"type":"module","title":"OwatWeb.Endpoint","doc":"","ref":"OwatWeb.Endpoint.html"},{"type":"function","title":"OwatWeb.Endpoint.allowed_origins/0","doc":"","ref":"OwatWeb.Endpoint.html#allowed_origins/0"},{"type":"function","title":"OwatWeb.Endpoint.broadcast/3","doc":"","ref":"OwatWeb.Endpoint.html#broadcast/3"},{"type":"function","title":"OwatWeb.Endpoint.broadcast!/3","doc":"","ref":"OwatWeb.Endpoint.html#broadcast!/3"},{"type":"function","title":"OwatWeb.Endpoint.broadcast_from/4","doc":"","ref":"OwatWeb.Endpoint.html#broadcast_from/4"},{"type":"function","title":"OwatWeb.Endpoint.broadcast_from!/4","doc":"","ref":"OwatWeb.Endpoint.html#broadcast_from!/4"},{"type":"function","title":"OwatWeb.Endpoint.call/2","doc":"","ref":"OwatWeb.Endpoint.html#call/2"},{"type":"function","title":"OwatWeb.Endpoint.child_spec/1","doc":"Returns the child specification to start the endpoint\nunder a supervision tree.","ref":"OwatWeb.Endpoint.html#child_spec/1"},{"type":"function","title":"OwatWeb.Endpoint.config/2","doc":"Returns the endpoint configuration for `key`\n\nReturns `default` if the key does not exist.","ref":"OwatWeb.Endpoint.html#config/2"},{"type":"function","title":"OwatWeb.Endpoint.config_change/2","doc":"Reloads the configuration given the application environment changes.","ref":"OwatWeb.Endpoint.html#config_change/2"},{"type":"function","title":"OwatWeb.Endpoint.host/0","doc":"Returns the host for the given endpoint.","ref":"OwatWeb.Endpoint.html#host/0"},{"type":"function","title":"OwatWeb.Endpoint.init/1","doc":"","ref":"OwatWeb.Endpoint.html#init/1"},{"type":"function","title":"OwatWeb.Endpoint.local_broadcast/3","doc":"","ref":"OwatWeb.Endpoint.html#local_broadcast/3"},{"type":"function","title":"OwatWeb.Endpoint.local_broadcast_from/4","doc":"","ref":"OwatWeb.Endpoint.html#local_broadcast_from/4"},{"type":"function","title":"OwatWeb.Endpoint.path/1","doc":"Generates the path information when routing to this endpoint.","ref":"OwatWeb.Endpoint.html#path/1"},{"type":"function","title":"OwatWeb.Endpoint.script_name/0","doc":"Generates the script name.","ref":"OwatWeb.Endpoint.html#script_name/0"},{"type":"function","title":"OwatWeb.Endpoint.server_info/1","doc":"Returns the address and port that the server is running on","ref":"OwatWeb.Endpoint.html#server_info/1"},{"type":"function","title":"OwatWeb.Endpoint.start_link/1","doc":"Starts the endpoint supervision tree.\n\nAll other options are merged into the endpoint configuration.","ref":"OwatWeb.Endpoint.html#start_link/1"},{"type":"function","title":"OwatWeb.Endpoint.static_integrity/1","doc":"Generates a base64-encoded cryptographic hash (sha512) to a static file\nin `priv/static`. Meant to be used for Subresource Integrity with CDNs.","ref":"OwatWeb.Endpoint.html#static_integrity/1"},{"type":"function","title":"OwatWeb.Endpoint.static_lookup/1","doc":"Returns a two item tuple with the first item being the `static_path`\nand the second item being the `static_integrity`.","ref":"OwatWeb.Endpoint.html#static_lookup/1"},{"type":"function","title":"OwatWeb.Endpoint.static_path/1","doc":"Generates a route to a static file in `priv/static`.","ref":"OwatWeb.Endpoint.html#static_path/1"},{"type":"function","title":"OwatWeb.Endpoint.static_url/0","doc":"Generates the static URL without any path information.\n\nIt uses the configuration under `:static_url` to generate\nsuch. It falls back to `:url` if `:static_url` is not set.","ref":"OwatWeb.Endpoint.html#static_url/0"},{"type":"function","title":"OwatWeb.Endpoint.struct_url/0","doc":"Generates the endpoint base URL but as a `URI` struct.\n\nIt uses the configuration under `:url` to generate such.\nUseful for manipulating the URL data and passing it to\nURL helpers.","ref":"OwatWeb.Endpoint.html#struct_url/0"},{"type":"function","title":"OwatWeb.Endpoint.subscribe/2","doc":"","ref":"OwatWeb.Endpoint.html#subscribe/2"},{"type":"function","title":"OwatWeb.Endpoint.unsubscribe/1","doc":"","ref":"OwatWeb.Endpoint.html#unsubscribe/1"},{"type":"function","title":"OwatWeb.Endpoint.url/0","doc":"Generates the endpoint base URL without any path information.\n\nIt uses the configuration under `:url` to generate such.","ref":"OwatWeb.Endpoint.html#url/0"},{"type":"module","title":"OwatWeb.ErrorJSON","doc":"","ref":"OwatWeb.ErrorJSON.html"},{"type":"function","title":"OwatWeb.ErrorJSON.render/2","doc":"","ref":"OwatWeb.ErrorJSON.html#render/2"},{"type":"module","title":"OwatWeb.FallbackController","doc":"Translates controller action results into valid `Plug.Conn` responses.\n\nSee `Phoenix.Controller.action_fallback/1` for more details.","ref":"OwatWeb.FallbackController.html"},{"type":"module","title":"OwatWeb.FileChannel","doc":"Channel for files","ref":"OwatWeb.FileChannel.html"},{"type":"function","title":"OwatWeb.FileChannel.child_spec/1","doc":"","ref":"OwatWeb.FileChannel.html#child_spec/1"},{"type":"function","title":"OwatWeb.FileChannel.handle_in/3","doc":"","ref":"OwatWeb.FileChannel.html#handle_in/3"},{"type":"function","title":"OwatWeb.FileChannel.handle_info/2","doc":"","ref":"OwatWeb.FileChannel.html#handle_info/2"},{"type":"function","title":"OwatWeb.FileChannel.join/3","doc":"","ref":"OwatWeb.FileChannel.html#join/3"},{"type":"function","title":"OwatWeb.FileChannel.start_link/1","doc":"","ref":"OwatWeb.FileChannel.html#start_link/1"},{"type":"module","title":"OwatWeb.Gettext","doc":"A module providing Internationalization with a gettext-based API.\n\nBy using [Gettext](https://hexdocs.pm/gettext),\nyour module gains a set of macros for translations, for example:\n\n    import OwatWeb.Gettext\n\n    # Simple translation\n    gettext(\"Here is the string to translate\")\n\n    # Plural translation\n    ngettext(\"Here is the string to translate\",\n             \"Here are the strings to translate\",\n             3)\n\n    # Domain-based translation\n    dgettext(\"errors\", \"Here is the error message to translate\")\n\nSee the [Gettext Docs](https://hexdocs.pm/gettext) for detailed usage.","ref":"OwatWeb.Gettext.html"},{"type":"macro","title":"OwatWeb.Gettext.dgettext/3","doc":"","ref":"OwatWeb.Gettext.html#dgettext/3"},{"type":"macro","title":"OwatWeb.Gettext.dgettext_noop/2","doc":"","ref":"OwatWeb.Gettext.html#dgettext_noop/2"},{"type":"macro","title":"OwatWeb.Gettext.dngettext/5","doc":"","ref":"OwatWeb.Gettext.html#dngettext/5"},{"type":"macro","title":"OwatWeb.Gettext.dngettext_noop/3","doc":"","ref":"OwatWeb.Gettext.html#dngettext_noop/3"},{"type":"macro","title":"OwatWeb.Gettext.dpgettext/4","doc":"","ref":"OwatWeb.Gettext.html#dpgettext/4"},{"type":"macro","title":"OwatWeb.Gettext.dpgettext_noop/3","doc":"","ref":"OwatWeb.Gettext.html#dpgettext_noop/3"},{"type":"macro","title":"OwatWeb.Gettext.dpngettext/6","doc":"","ref":"OwatWeb.Gettext.html#dpngettext/6"},{"type":"macro","title":"OwatWeb.Gettext.dpngettext_noop/4","doc":"","ref":"OwatWeb.Gettext.html#dpngettext_noop/4"},{"type":"macro","title":"OwatWeb.Gettext.gettext/2","doc":"","ref":"OwatWeb.Gettext.html#gettext/2"},{"type":"macro","title":"OwatWeb.Gettext.gettext_comment/1","doc":"","ref":"OwatWeb.Gettext.html#gettext_comment/1"},{"type":"macro","title":"OwatWeb.Gettext.gettext_noop/1","doc":"","ref":"OwatWeb.Gettext.html#gettext_noop/1"},{"type":"function","title":"OwatWeb.Gettext.handle_missing_bindings/2","doc":"","ref":"OwatWeb.Gettext.html#handle_missing_bindings/2"},{"type":"function","title":"OwatWeb.Gettext.handle_missing_plural_translation/7","doc":"","ref":"OwatWeb.Gettext.html#handle_missing_plural_translation/7"},{"type":"function","title":"OwatWeb.Gettext.handle_missing_translation/5","doc":"","ref":"OwatWeb.Gettext.html#handle_missing_translation/5"},{"type":"function","title":"OwatWeb.Gettext.lgettext/5","doc":"","ref":"OwatWeb.Gettext.html#lgettext/5"},{"type":"function","title":"OwatWeb.Gettext.lngettext/7","doc":"","ref":"OwatWeb.Gettext.html#lngettext/7"},{"type":"macro","title":"OwatWeb.Gettext.ngettext/4","doc":"","ref":"OwatWeb.Gettext.html#ngettext/4"},{"type":"macro","title":"OwatWeb.Gettext.ngettext_noop/2","doc":"","ref":"OwatWeb.Gettext.html#ngettext_noop/2"},{"type":"macro","title":"OwatWeb.Gettext.pgettext/3","doc":"","ref":"OwatWeb.Gettext.html#pgettext/3"},{"type":"macro","title":"OwatWeb.Gettext.pgettext_noop/2","doc":"","ref":"OwatWeb.Gettext.html#pgettext_noop/2"},{"type":"macro","title":"OwatWeb.Gettext.pngettext/5","doc":"","ref":"OwatWeb.Gettext.html#pngettext/5"},{"type":"macro","title":"OwatWeb.Gettext.pngettext_noop/3","doc":"","ref":"OwatWeb.Gettext.html#pngettext_noop/3"},{"type":"module","title":"OwatWeb.GinChannel","doc":"Channel for GIN related events","ref":"OwatWeb.GinChannel.html"},{"type":"function","title":"OwatWeb.GinChannel.child_spec/1","doc":"","ref":"OwatWeb.GinChannel.html#child_spec/1"},{"type":"function","title":"OwatWeb.GinChannel.handle_in/3","doc":"","ref":"OwatWeb.GinChannel.html#handle_in/3"},{"type":"function","title":"OwatWeb.GinChannel.handle_info/2","doc":"","ref":"OwatWeb.GinChannel.html#handle_info/2"},{"type":"function","title":"OwatWeb.GinChannel.join/3","doc":"","ref":"OwatWeb.GinChannel.html#join/3"},{"type":"function","title":"OwatWeb.GinChannel.start_link/1","doc":"","ref":"OwatWeb.GinChannel.html#start_link/1"},{"type":"module","title":"OwatWeb.GlobalChannel","doc":"This module handles the `global` topic.\n\nAny socket is authorized for this topic.\n\nThe following events exist:\n  * `message`","ref":"OwatWeb.GlobalChannel.html"},{"type":"module","title":"Unmatched events - OwatWeb.GlobalChannel","doc":"Any unmatched event gets an unicast reply with status `error` informing the sender of the non-existence of this event type.\n\nThe response always contains the `type: \"unmatched_event\"` and the information which event was received.\n\n    %{\n      type: \"unmatched_event\",\n      event: event\n    }","ref":"OwatWeb.GlobalChannel.html#module-unmatched-events"},{"type":"module","title":"Bidirectional Events - OwatWeb.GlobalChannel","doc":"These events can be sent to the server and can be received unsolicited from the server.\n\n### `message` Event\n\n| **Payload** | [`SmallMessage`](#module-smallmessage) |\n| **Permissions** | Anyone |\n\nThe message event will be broadcasted as is to all subscribers.","ref":"OwatWeb.GlobalChannel.html#module-bidirectional-events"},{"type":"module","title":"Upstream Events - OwatWeb.GlobalChannel","doc":"The following events will never be sent by the server.\n\n### `search` Event\n\nThis event is for searching in the cores search index.\n\n| **Payload** | [`SearchQuery`](#module-searchquery) |\n| **Permissions** | Anyone |\n\nThe sender will get a reply with the search results.\n\n#### OK-Reply\n\nThe reply with status `ok` contains the search results.\n\n```json\n{\n  \"estimatedTotalHits\": 0,\n  \"hits\": [ PersonSummary ],\n  \"limit\": 0,\n  \"offset\": 0\n}\n```","ref":"OwatWeb.GlobalChannel.html#module-upstream-events"},{"type":"module","title":"Data types - OwatWeb.GlobalChannel","doc":"","ref":"OwatWeb.GlobalChannel.html#module-data-types"},{"type":"module","title":"PersonSummary - OwatWeb.GlobalChannel","doc":"```json\n{\n  \"address\": \"string\",\n  \"emails\": [ \"string:email\" ],\n  \"family\": \"string\",\n  \"given\": \"string\",\n  \"id\": 0,\n  \"phones\": [ \"string:e164\" ],\n  \"ssn\": \"string\"\n}\n```","ref":"OwatWeb.GlobalChannel.html#module-personsummary"},{"type":"module","title":"SmallMessage - OwatWeb.GlobalChannel","doc":"All fields are required.\n\n```json\n{\n  \"message\": \"string\",\n}\n```","ref":"OwatWeb.GlobalChannel.html#module-smallmessage"},{"type":"function","title":"OwatWeb.GlobalChannel.child_spec/1","doc":"","ref":"OwatWeb.GlobalChannel.html#child_spec/1"},{"type":"function","title":"OwatWeb.GlobalChannel.handle_in/3","doc":"Handles events sent to this channel.","ref":"OwatWeb.GlobalChannel.html#handle_in/3"},{"type":"function","title":"OwatWeb.GlobalChannel.join/3","doc":"Joins a given socket into the global channel.","ref":"OwatWeb.GlobalChannel.html#join/3"},{"type":"function","title":"OwatWeb.GlobalChannel.start_link/1","doc":"","ref":"OwatWeb.GlobalChannel.html#start_link/1"},{"type":"module","title":"OwatWeb.HtmlSafeSerializer","doc":"HTML-safe Websocket Serializer for Phoenix","ref":"OwatWeb.HtmlSafeSerializer.html"},{"type":"module","title":"Usage - OwatWeb.HtmlSafeSerializer","doc":"This is a wrapping serializer and cannot be used on its own. A concrete\nimplementation with an existing serializer must be created first.\n\n    defmodule MySerializer do\n      use Elixir.OwatWeb.HtmlSafeSerializer, from: ExistingSerializer\n    end","ref":"OwatWeb.HtmlSafeSerializer.html#module-usage"},{"type":"module","title":"How it works - OwatWeb.HtmlSafeSerializer","doc":"This module wraps the given `Phoenix.Socket.Serializer` and preprocesses\nmessages when encoding data. When a message is received it is sanitized and\nthen passed to the used base-serializer.\n\nSanitation occurs based on the following rules:\n- Tuples of `{:safe, data}` result directly in `data` without any processing.\n- Atoms stay untouched.\n- Binaries are passed through `Owat.Support.html_escape/1`.\n- Lists are sanitized element-wise.\n- Structs get converted to maps, then sanitized as maps and then reformed to structs.\n- Maps are sanitized by key and value using io-unsafe sanitation.\n- Any other type including numerics and tuples cannot be sanitized.\n  This further restricts iodata sanitation, since iodata containing numeric\n  codepoints cannot be sanitized.\n\nio-unsafe sanitation works the same as normal sanitation except with those\ntwo key differences:\n- Numerics stay untouched.\n- Tuples are io-unsafe sanitized element-wise.","ref":"OwatWeb.HtmlSafeSerializer.html#module-how-it-works"},{"type":"function","title":"OwatWeb.HtmlSafeSerializer.sanitize/1","doc":"","ref":"OwatWeb.HtmlSafeSerializer.html#sanitize/1"},{"type":"module","title":"OwatWeb.LegacyController","doc":"Controller for API endpoints concerning legacy systems.","ref":"OwatWeb.LegacyController.html"},{"type":"function","title":"OwatWeb.LegacyController.legacy_url/2","doc":"","ref":"OwatWeb.LegacyController.html#legacy_url/2"},{"type":"function","title":"OwatWeb.LegacyController.make_url/2","doc":"","ref":"OwatWeb.LegacyController.html#make_url/2"},{"type":"function","title":"OwatWeb.LegacyController.open_legacy/2","doc":"","ref":"OwatWeb.LegacyController.html#open_legacy/2"},{"type":"module","title":"OwatWeb.LiveSocket","doc":"The main socket","ref":"OwatWeb.LiveSocket.html"},{"type":"function","title":"OwatWeb.LiveSocket.channels/0","doc":"","ref":"OwatWeb.LiveSocket.html#channels/0"},{"type":"function","title":"OwatWeb.LiveSocket.connect/3","doc":"","ref":"OwatWeb.LiveSocket.html#connect/3"},{"type":"function","title":"OwatWeb.LiveSocket.handle_in/2","doc":"","ref":"OwatWeb.LiveSocket.html#handle_in/2"},{"type":"function","title":"OwatWeb.LiveSocket.id/1","doc":"","ref":"OwatWeb.LiveSocket.html#id/1"},{"type":"module","title":"OwatWeb.MaintenanceSocket","doc":"A socket for maintenance functionality","ref":"OwatWeb.MaintenanceSocket.html"},{"type":"function","title":"OwatWeb.MaintenanceSocket.connect/3","doc":"","ref":"OwatWeb.MaintenanceSocket.html#connect/3"},{"type":"function","title":"OwatWeb.MaintenanceSocket.id/1","doc":"","ref":"OwatWeb.MaintenanceSocket.html#id/1"},{"type":"module","title":"OwatWeb.PbxController","doc":"Controller for PBX APIs","ref":"OwatWeb.PbxController.html"},{"type":"function","title":"OwatWeb.PbxController.lookup/2","doc":"","ref":"OwatWeb.PbxController.html#lookup/2"},{"type":"function","title":"OwatWeb.PbxController.schedule_now/2","doc":"","ref":"OwatWeb.PbxController.html#schedule_now/2"},{"type":"module","title":"OwatWeb.PersonChannel","doc":"This module handles the `person` (general) and `person: ` (specific) topics.","ref":"OwatWeb.PersonChannel.html"},{"type":"function","title":"OwatWeb.PersonChannel.child_spec/1","doc":"","ref":"OwatWeb.PersonChannel.html#child_spec/1"},{"type":"function","title":"OwatWeb.PersonChannel.handle_in/3","doc":"","ref":"OwatWeb.PersonChannel.html#handle_in/3"},{"type":"function","title":"OwatWeb.PersonChannel.handle_info/2","doc":"","ref":"OwatWeb.PersonChannel.html#handle_info/2"},{"type":"function","title":"OwatWeb.PersonChannel.join/3","doc":"","ref":"OwatWeb.PersonChannel.html#join/3"},{"type":"function","title":"OwatWeb.PersonChannel.start_link/1","doc":"","ref":"OwatWeb.PersonChannel.html#start_link/1"},{"type":"module","title":"OwatWeb.Presence","doc":"Provides presence tracking to channels and processes.\n\nSee the [`Phoenix.Presence`](https://hexdocs.pm/phoenix/Phoenix.Presence.html)\ndocs for more details.","ref":"OwatWeb.Presence.html"},{"type":"function","title":"OwatWeb.Presence.child_spec/1","doc":"","ref":"OwatWeb.Presence.html#child_spec/1"},{"type":"function","title":"OwatWeb.Presence.fetch/2","doc":"","ref":"OwatWeb.Presence.html#fetch/2"},{"type":"function","title":"OwatWeb.Presence.fetchers_pids/0","doc":"","ref":"OwatWeb.Presence.html#fetchers_pids/0"},{"type":"function","title":"OwatWeb.Presence.get_by_key/2","doc":"","ref":"OwatWeb.Presence.html#get_by_key/2"},{"type":"function","title":"OwatWeb.Presence.list/1","doc":"","ref":"OwatWeb.Presence.html#list/1"},{"type":"function","title":"OwatWeb.Presence.track/3","doc":"","ref":"OwatWeb.Presence.html#track/3"},{"type":"function","title":"OwatWeb.Presence.track/4","doc":"","ref":"OwatWeb.Presence.html#track/4"},{"type":"function","title":"OwatWeb.Presence.untrack/2","doc":"","ref":"OwatWeb.Presence.html#untrack/2"},{"type":"function","title":"OwatWeb.Presence.untrack/3","doc":"","ref":"OwatWeb.Presence.html#untrack/3"},{"type":"function","title":"OwatWeb.Presence.update/3","doc":"","ref":"OwatWeb.Presence.html#update/3"},{"type":"function","title":"OwatWeb.Presence.update/4","doc":"","ref":"OwatWeb.Presence.html#update/4"},{"type":"module","title":"OwatWeb.PublicSocket","doc":"Socket for public access","ref":"OwatWeb.PublicSocket.html"},{"type":"function","title":"OwatWeb.PublicSocket.connect/3","doc":"","ref":"OwatWeb.PublicSocket.html#connect/3"},{"type":"function","title":"OwatWeb.PublicSocket.handle_in/2","doc":"","ref":"OwatWeb.PublicSocket.html#handle_in/2"},{"type":"function","title":"OwatWeb.PublicSocket.id/1","doc":"","ref":"OwatWeb.PublicSocket.html#id/1"},{"type":"module","title":"OwatWeb.Router","doc":"","ref":"OwatWeb.Router.html"},{"type":"function","title":"OwatWeb.Router.accept_json/2","doc":"","ref":"OwatWeb.Router.html#accept_json/2"},{"type":"function","title":"OwatWeb.Router.api/2","doc":"","ref":"OwatWeb.Router.html#api/2"},{"type":"function","title":"OwatWeb.Router.call/2","doc":"Callback invoked by Plug on every request.","ref":"OwatWeb.Router.html#call/2"},{"type":"function","title":"OwatWeb.Router.force_admin_permission/2","doc":"","ref":"OwatWeb.Router.html#force_admin_permission/2"},{"type":"function","title":"OwatWeb.Router.init/1","doc":"Callback required by Plug that initializes the router\nfor serving web requests.","ref":"OwatWeb.Router.html#init/1"},{"type":"function","title":"OwatWeb.Router.pbx_api_key/2","doc":"","ref":"OwatWeb.Router.html#pbx_api_key/2"},{"type":"function","title":"OwatWeb.Router.public_api/2","doc":"","ref":"OwatWeb.Router.html#public_api/2"},{"type":"function","title":"OwatWeb.Router.require_auth/2","doc":"","ref":"OwatWeb.Router.html#require_auth/2"},{"type":"function","title":"OwatWeb.Router.setup_auth/2","doc":"","ref":"OwatWeb.Router.html#setup_auth/2"},{"type":"module","title":"OwatWeb.SchedulingChannel.AppointmentsFilter","doc":"A struct to keep all filtering information at one place.\n\nFiltering occurs disjunctive out of all given IDs. When settings a filter\nby schedule, all selected schedule IDs will be stored and all filtering IDs\nwill be aggregated. The aggregated maps will have the ID to filter as keys\nand the list of originating schedule IDs as value.","ref":"OwatWeb.SchedulingChannel.AppointmentsFilter.html"},{"type":"type","title":"OwatWeb.SchedulingChannel.AppointmentsFilter.t/0","doc":"","ref":"OwatWeb.SchedulingChannel.AppointmentsFilter.html#t:t/0"},{"type":"module","title":"OwatWeb.Session","doc":"A Plug to handle OWAT sessions\n\nThis plug stores the OWAT session in ETS (table `:session`).","ref":"OwatWeb.Session.html"},{"type":"function","title":"OwatWeb.Session.call/2","doc":"","ref":"OwatWeb.Session.html#call/2"},{"type":"function","title":"OwatWeb.Session.init/1","doc":"","ref":"OwatWeb.Session.html#init/1"},{"type":"module","title":"OwatWeb.SessionChannel","doc":"Channel for functions related to the current session.\n\nBroadcasts to the user to every active session referencing the user.","ref":"OwatWeb.SessionChannel.html"},{"type":"function","title":"OwatWeb.SessionChannel.child_spec/1","doc":"","ref":"OwatWeb.SessionChannel.html#child_spec/1"},{"type":"function","title":"OwatWeb.SessionChannel.handle_info/2","doc":"","ref":"OwatWeb.SessionChannel.html#handle_info/2"},{"type":"function","title":"OwatWeb.SessionChannel.handle_out/3","doc":"","ref":"OwatWeb.SessionChannel.html#handle_out/3"},{"type":"function","title":"OwatWeb.SessionChannel.join/3","doc":"","ref":"OwatWeb.SessionChannel.html#join/3"},{"type":"function","title":"OwatWeb.SessionChannel.start_link/1","doc":"","ref":"OwatWeb.SessionChannel.html#start_link/1"},{"type":"module","title":"OwatWeb.Socket","doc":"Aggregates permissions and channels from all channels and writes them to appropriate zod schema files.","ref":"OwatWeb.Socket.html"},{"type":"macro","title":"OwatWeb.Socket.channel/2","doc":"Adds a channel to the socket and aggregates its permission and channel info.\n\nSee `Phoenix.Socket.channel/2` for more information.","ref":"OwatWeb.Socket.html#channel/2"},{"type":"module","title":"OwatWeb.Telemetry","doc":"Telemetry module for the OWAT core","ref":"OwatWeb.Telemetry.html"},{"type":"function","title":"OwatWeb.Telemetry.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"OwatWeb.Telemetry.html#child_spec/1"},{"type":"function","title":"OwatWeb.Telemetry.metrics/0","doc":"","ref":"OwatWeb.Telemetry.html#metrics/0"},{"type":"function","title":"OwatWeb.Telemetry.start_link/1","doc":"","ref":"OwatWeb.Telemetry.html#start_link/1"},{"type":"module","title":"ShellHelper","doc":"Helper functions to work in an attached iex session.\n\nTo get started issue:\n\n    use ShellHelper\n\nThis will import all functions and require and import `Ecto.Query`.\nThe following will happen:\n\n* Imports all functions of this module.\n* Requires and imports `Ecto.Query`.\n* Imports `Owat.Repo.one/1` and `Owat.Repo.all/1`\n* Aliases the following modules: `Owat.Model.Person`, `Owat.Model.Identifier`, `Owat.Model.Appointment`, `Owat.Model.Encounter`, `Owat.Model.Condition`, `Owat.Model.Consult`.\n* Aliases `Owat.MasterPatientIndex` as `MPI`.","ref":"ShellHelper.html"},{"type":"function","title":"ShellHelper.from_url/1","doc":"Extracts the patient ULID from an URL string.\n\nExpects an URL parseable with `URI.parse/1` that has a path-portion starting\nwith `\"/patients/\"` immediately followed by the patient ID.","ref":"ShellHelper.html#from_url/1"},{"type":"function","title":"ShellHelper.to_ulid/1","doc":"Converts a ULID formatted string to a UUID formatted string","ref":"ShellHelper.html#to_ulid/1"},{"type":"function","title":"ShellHelper.to_uuid/1","doc":"Converts a UUID formatted string to a ULID formatted string","ref":"ShellHelper.html#to_uuid/1"},{"type":"exception","title":"Owat.Gin.ECardReader.Error","doc":"","ref":"Owat.Gin.ECardReader.Error.html"},{"type":"extras","title":"OWAT","doc":"# OWAT\n\nThis is the Elixir implementation for the OWAT Core.","ref":"readme.html"},{"type":"extras","title":"API - OWAT","doc":"The API consists of the following parts:\n\n* Authentication Endpoints\n* Public REST Resources\n* Restricted Websocket Channels","ref":"readme.html#api"},{"type":"extras","title":"Authentication - OWAT","doc":"Authentication is necessary to access restricted functionality.\n\nThe general authentication is done via an OIDC provider. Further information can be obtained at the docs\nfor `OwatWeb.AuthController`.","ref":"readme.html#authentication"},{"type":"extras","title":"Developers Information - OWAT","doc":"This repository comes with a docker-compose file to set up a development environment.\nRun `docker compose watch` to start a local backend and necessary services. The backend will be available\nat `localhost:4000` and will be automatically reloaded when changes are made to the source code.\nYou will have to make the AZURE_CLIENT_SECRET and EID_CLIENT_SECRET available in the environment for authentication to\nwork.\n\nTo start your Phoenix server on the host machine:\n\n* Run `mix setup` to install and setup dependencies and set up git hooks\n* Start Phoenix endpoint with `mix phx.server` or inside IEx with `iex -S mix phx.server`\n\nNow you can visit [`localhost:4000`](http://localhost:4000) from your browser.\n\nThe dev environment must have the following setup:\n\n* An env-var `DB_HOSTNAME` pointing to your DB.\n* The DB must have the name `owat_ex` and the user `owat`.\n* For SS12 operation a valid microsoap service must be deployed and its script referenced in the `MICROSOAP` env-var.\n* For search operation a meilisearch instance must be referenced via `MEILISEARCH_ENDPOINT` and `MEILISEARCH_API_KEY`.\n\nFor convenience there exists the `ShellHelper` module with a few supportive functions.\n\nReady to run in production? Please [check our deployment guides](https://hexdocs.pm/phoenix/deployment.html).","ref":"readme.html#developers-information"},{"type":"extras","title":"Learn more - OWAT","doc":"* Official website: https://www.phoenixframework.org/\n* Guides: https://hexdocs.pm/phoenix/overview.html\n* Docs: https://hexdocs.pm/phoenix\n* Forum: https://elixirforum.com/c/phoenix-forum\n* Source: https://github.com/phoenixframework/phoenix","ref":"readme.html#learn-more"},{"type":"extras","title":"Git Hooks - OWAT","doc":"We use the [git_hooks](https://hexdocs.pm/git_hooks/readme.html) library to run pre-commit and pre-push checks.\nIf you want to create a commit without running the checks, you can use `git commit --no-verify`, the same applies\nto `git push`. If you get an error message that the hooks are not executable, you can run `mix git_hooks.install`.\nCurrently, the following checks are run:\n\n* pre-commit:\n    * mix format --check-formatted\n* pre-push:\n    * mix dialyzer --plt\n    * mix credo --all --ignore design\n    * mix test","ref":"readme.html#git-hooks"}],"content_type":"text/markdown","producer":{"name":"ex_doc","version":[48,46,51,52,46,49]}}